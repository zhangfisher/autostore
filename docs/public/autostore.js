var AutoStoreSpaces=(function(exports){'use strict';var x=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var _=class extends Error{},F=class extends _{},V=class extends _{},k=class extends _{},K=class extends _{},N=class extends _{},q=class extends _{},M=class extends _{};var Y="__AS_SKIP_PROXY__",D="__AS_OBSERVER_DESCRIPTOR_BUILDER__",ve="__AS_OBSERVER_DESCRIPTOR__",l=".",Ae="__batch_update__",X="__AS_ASYNC_COMPUTED_VALUE__",Ye="__AS_EMPTY__",T="__AS_VALUE_SCHEMA__",Xe="__AS_DELETE_FLAG__";function z(t){return t.constructor.name==="AsyncFunction"}function me(t){return t?t.map(e=>Array.isArray(e)?e:typeof e=="string"?["/","./","../"].some(r=>e.startsWith(r))?e:e.includes(".")?e.split("."):e.split("."):[]):[]}function Q(){return {async:false,enable:true,timeout:0,depends:[],immediate:"auto",extras:void 0,objectify:true}}function J(){let t=arguments[0];if(typeof t!="function")throw new Error("computed getter must be a function");let e=[],r=Object.assign({},Q());if(arguments.length===1)e=[];else if(arguments.length===2)if(Array.isArray(arguments[1]))r.depends=arguments[1];else if(typeof arguments[1]=="object")Object.assign(r,arguments[1]),r.depends=me(r.depends);else throw new K;else arguments.length>=3&&(e=me(arguments[1]),Object.assign(r,arguments[2]),r.depends=e);r.async=r.async===true||z(t)||arguments.length>=2&&Array.isArray(arguments[1]);let o=()=>({type:"computed",getter:t,options:r,[ve]:true});return o[D]=true,o}function fe(t){return t?t.some(e=>typeof e=="string"?e.startsWith("./")||e.startsWith("../")||e.startsWith("@")?false:!["CURRENT","SELF","PARENT"].includes(e):true):false}function v(t){return typeof t=="object"&&t.hasOwnProperty("type")&&typeof t.type=="string"&&t.hasOwnProperty("getter")&&typeof t.getter=="function"&&t.hasOwnProperty("options")&&typeof t.options=="object"}function U(t){try{return t[Y]===!0}catch{}return  false}function Z(t,e){if(t===e)return  true;if(t===null||e===null||typeof t!=typeof e)return  false;if(typeof t=="object"){if(Array.isArray(t)&&Array.isArray(e))return t.length!==e.length?false:t.every((r,o)=>Z(r,e[o]));if(!Array.isArray(t)&&!Array.isArray(e)){let r=Object.keys(t);return r.length!==Object.keys(e).length?false:r.every(o=>Z(t[o],e[o]))}else return  false}return  false}function w(t){return toString.call(t)==="[object Map]"}function A(t,e){return !t||!e||t.length!==e.length?false:t.every((r,o)=>r===e[o])}function xe(t,e){let r=Array.isArray(t)?t:t.split("."),o=Array.isArray(e)?e:e===""?[]:e.split(".");return o.length===0||A(r,o)?true:(o[o.length-1]==="**"&&(o[o.length-1]="*",o.splice(o.length-1,0,...Array.from({length:r.length-o.length}).fill("*"))),r.length!==o.length?false:o.every((i,s)=>i==="*"||i==="**"?true:i===r[s]))}function Ce(t){return t==null||typeof t!="object"?false:Object.prototype.toString.call(t)==="[object Object]"}function b(t){return t&&typeof t=="object"&&t.hasOwnProperty(X)}function Ee(t){try{return !!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"&&typeof t.catch=="function"&&(t instanceof Promise||Object.prototype.toString.call(t)==="[object Promise]")}catch{return  false}}function R(t){return typeof t=="function"&&t[D]===true}function At(t){return typeof t=="object"&&t!==null&&!("__isProxy"in t)}function ee(t,e){let r=t.get(e);if(r!==void 0)return r;let o=t.get(Number(e)||e);if(o!==void 0)return o}function f(t,e,r){if(!e||e.length===0)return t;let o=Array.isArray(e)?e:e.split("."),n,i=t;for(let s=0;s<o.length;s++){let a=o[s];if(w(i))n=ee(i,a);else if(a in i)n=i[a];else return r;i=n;}return n}function g(t){try{["object","function"].includes(typeof t)&&(t[Y]=!0);}catch{}return t}function C(t,e,r,o){if(!e||!t)return t;let n=e;if(n.length===0)return typeof t=="object"&&Object.assign(t,r),t;{let i=t,s=[],a=(u,p,c)=>{o&&b(u[p])?u[p].value=c:u[p]=c;};for(let u=0;u<n.length;u++){let p=n[u];if(s.push(p),i)if(Array.isArray(i)){let c=parseInt(p,10);if(Number.isNaN(c)||c<0)throw new Error(`setVal: invalid array index ${s.join(".")}`);u===n.length-1?a(i,c,r):i=i[c];}else i instanceof Map||i instanceof WeakMap?u===n.length-1?i.set(p,r):(i.has(p)||i.set(p,{}),i=i.get(p)):typeof i=="object"&&p in i?u===n.length-1?a(i,p,r):i=i[p]:(i[p]=u===n.length-1?r:{},i=i[p]);else i[p]=u===n.length-1?r:{},i=i[p];}}return t}function W(t){return (t||["ROOT"]).map(e=>Array.isArray(e)?e.join("."):e).join(".")}function te(){return Math.random().toString(36).slice(2)}function G(t,e,r){let o=t&&!t[0].startsWith("#");if(Array.isArray(e))return e;if(e==="self")return o?t:void 0;if(e==="root")return o?[]:void 0;if(e==="parent")return o?t.slice(0,-2):void 0;if(e==="current")return o?t.slice(0,-1):void 0;if(typeof e=="string")return e.startsWith("./")?o?[...t.slice(0,-1),...e.slice(2).split(".")]:void 0:e.startsWith("../")?o?G(t.slice(0,-1),e.slice(3),true):void 0:e.startsWith("/")?e.replace(/^(\/)*/,"").split("."):o&&r?[...t.slice(0,-1),...e.split(".")]:e.split(".")}function j(t,e){return e?e.map(r=>G(t,r)).filter(r=>r!==void 0):[]}function $t(t,e){let r="";return e.id?r=e.id:r=W(t),r}function Ve(t,e,r){let o=t,n=e.length-1;e.forEach((i,s)=>{let a=w(o);if(s===n){let u=a?o.get(i):o[i];typeof u=="object"&&Object.assign(u,r);return}a?(o.has(i)||o.set(i,{}),o=o.get(i)):(i in o||(o[i]={}),o=o[i]);});}function re(t,e){function r(o,n){for(let i in o){let s=o[i];typeof e=="function"&&e({value:s,key:i,parent:o,path:n.concat(i)}),typeof s=="object"&&!U(s)&&r(s,n.concat(i));}}r(t,[]);}function Ue(t){return t}function Xt(t=1e3){return new Promise(e=>{setTimeout(e,t);})}function oe(t){let e=new Map;return t.forEach(r=>{let o=r.join(".");e.set(o,r);}),Array.from(e.values())}function De(t,e){return t.length>e.length?false:t.every((r,o)=>r===e[o])}function rr(t,e,r){let o=[];return typeof t=="function"?o=e.collectDependencies(()=>t(e.state)):typeof t=="string"?o=[t.split(".")]:Array.isArray(t)?o=[[...t]]:o=[],r!=="none"&&o.forEach(n=>{let i=e.peep(s=>f(s,n));b(i)&&n.push(r==="all"?"*":"value");}),o}function sr(t,e){if(!e||e.length===0)return  false;let r,o=t;for(let n=0;n<e.length;n++){let i=e[n],s=false;if(w(o)){if(s=o.has(i),!s)return  false;r=ee(o,i);}else {if(s=i in o,!s)return  false;r=o[i];}o=r;}return  true}function S(t){return t?typeof t=="function":false}function ne(t,e){let{reserveAsync:r,includeFunc:o}=Object.assign({reserveAsync:false},e);if(Array.isArray(t)){let n=[...t];for(let i=0;i<n.length;i++)n[i]=ne(n[i],e);return n}else if(typeof t=="object"){if(!r&&b(t))return t.value;{let n={...t};for(let i in n)n[i]=ne(n[i],e);return n}}return o&&S(t)?`\`\`\`${t.toString()}\`\`\``:t}function dr(t){return t==null||typeof t=="string"||typeof t=="number"||typeof t=="boolean"}function mr(t){globalThis.__AUTOSTORE_EXTENDS__&&(globalThis.__AUTOSTORE_EXTENDS__=[]),typeof t=="function"&&globalThis.__AUTOSTORE_EXTENDS__.push(t);}function Sr(t,e,r){let o=R(e)?e():e;if(v(o)){if(o.options.objectify=false,Object.assign(o.options,r),o.type==="computed")return t.computedObjects.create(o);if(o.type==="watch")return t.watchObjects.create(o)}else if(typeof o=="function"){let i=J(o)();return i.options.objectify=false,Object.assign(i.options,r),t.computedObjects.create(i)}}function Ar(t){return v(t)||R(t)}function Dr(t,e,r){let o=f(t,typeof e=="string"?e.split("."):e,r);return b(o)?o:{value:o,loading:false,retry:0,error:null,timeout:0,progress:0,run:()=>{},cancel:()=>{}}}function Rr(t,e){return b(t)?Object.assign({},t,e):Object.assign({value:t,loading:false,retry:0,progress:0,timeout:0,error:null,run:()=>{},cancel:()=>{}},e)}function Pr(t){try{return t[T]===!0}catch{}return  false}function Te(t){let e=Array.isArray(t)?t[0]:t;return !!(e.startsWith("./")||e.startsWith("../")||["CURRENT","PARENT","SELF"].includes(e))}function ie(t){return typeof t=="function"&&t[T]===true}var se=class extends Map{constructor(r){super();this.store=r;}get enable(){return this.store.options.enableComputed}set enable(r){this.store.options.enableComputed=r;}create(){let r=v(arguments[0])?arguments[0]:J(...arguments)();if(r.options.async&&!fe(r.options.depends))throw new q("The scope of the dynamic computed object must be the root state object or an absolute path");let o=r.options.scope;if(o===void 0||o==="ROOT")r.options.scope="ROOT";else if(!fe([o]))throw new N("The scope of the dynamic computed object must be the root state object or an absolute path");return this.store._createComputed(r)}async runGroup(r,o,n){return await this.run(i=>i.group===r,o,n)}async run(){if(arguments.length===0)return Promise.all([...this.values()].map(s=>s.run()));let r;typeof arguments[0]=="function"?r=arguments[0]:typeof arguments[0]=="string"&&(r=s=>s.id===arguments[0]);let o=Object.assign({},arguments[1]),n=Object.assign({wait:false,timeout:0},arguments[2]),i={};return new Promise((s,a)=>{if(n.wait){let u;o.onDone=({id:p})=>{if(i[p]=true,Object.values(i).every(c=>c))return clearTimeout(u),true},n.timeout>0&&(u=setTimeout(()=>{a(new V);},n.timeout));}Promise.all([...this.values()].filter(u=>r(u)?(i[u.id]=false,true):false).map(u=>u.run(o))),n.wait||s();})}async enableGroup(r){for(let o of this.values())o.options.enable=r;}delete(r){return this.get(r)?.detach(),super.delete(r)}find(r){if(!r)return;let o=Array.isArray(r)?r:r.split(".");for(let n of this.values())if(A(n.path,o))return n}};function ye(t,...e){if(e.length===0)return t;let r=e.map((o,n)=>{let i=Object.entries(o||{});return i.some(([s,a])=>a===void 0)?i.reduce((s,[a,u])=>(u!==void 0&&(s[a]=u),s),{}):o});return Object.assign(t,...r)}(t=>typeof x<"u"?x:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof x<"u"?x:e)[r]}):t)(function(t){if(typeof x<"u")return x.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});function we(t,e="info"){let r=typeof t=="function"?t():t instanceof Error?t.stack:t;try{console[e](`[AutoStore<${this.id}>]`,...Array.isArray(r)?r:[r]);}catch{}}function P(t,e,r="."){let o=[];try{return typeof e=="function"&&(e=e.call(t,t)),o=Array.isArray(e)?e:typeof e=="string"?e.split(r):[],o.length>0?f(t,o):t}catch{return t}}var Re=(i=>(i.Root="ROOT",i.Current="CURRENT",i.Parent="PARENT",i.Depends="DEPENDS",i.Self="SELF",i))(Re||{});function Ge(t,e,r){let o=e===void 0?r:e;if(typeof o=="function")try{o=o.call(t.store,t);}catch{}return o===void 0?r===void 0?"CURRENT":r:o}function L(t,e,r,o){let n=t.store.state,i=t.store.options;if(typeof i.getRootScope=="function"){let c=i.getRootScope(t,{observerType:e,valuePath:r?.path});c!==void 0&&(n=c);}let{path:s,parentPath:a}=r||{},u=Ge(t,o.scope,i.scope),p=n;try{u==="CURRENT"?p=P(n,a):u==="PARENT"?p=P(n,s.slice(0,s.length-2<0?0:s.length-2)):u==="ROOT"?p=n:u==="DEPENDS"?p=t.depends?.map(c=>P(n,c)):typeof u=="string"?u.startsWith("@")?p=L(t,e,r,{...o,scope:L(t,e,{...r,path:u.slice(1).split(".")},{...o,scope:u.slice(1)})}):p=P(n,G(t.path,u)):Array.isArray(u)&&(p=P(n,u));}catch(c){i.log(`Error while getting computed scope ${t.toString()}: ${c.message}`,"error");}return p}var I=class{constructor(e,r,o){this.descriptor=r;this.context=o;this.store=e,this._associated=o!==void 0,this._getter=r.getter,this._options=Object.assign({enable:true,group:"",depends:[],throwError:true},r.options),this._id=this._options.id||(this._associated?W(o?.path):te()),this._path=o?.path||[`#${this._id}`],this._path||(this._path=[`#${this._id}`]),this._initial=this._options.initial,this.onInitOptions(this._options),this._depends=j(this._path,this._options.depends),this._onObserverCreated(),this._onInitial();}_path;_id="";_initial;_value;_associated=false;_attached=false;_getter;_depends=[];_options;_subscribers=[];_strPath;_error;store;_shadowStore;get shadowStore(){return this._shadowStore||(this._shadowStore=S(this.store.options.getShadowStore)?this.store.options.getShadowStore()||this.store:this.store),this._shadowStore}get type(){return this.descriptor.type}get options(){return this._options}get id(){return this._id}get associated(){return this._associated}get async(){return this._options.async}get enable(){return this._options.enable}set enable(e){this._options.enable=e;}set group(e){this._options.group=e;}get group(){return this._options.group}get initial(){return this._initial}set initial(e){this._initial=e;}get path(){return this._path}get attached(){return this._attached}get depends(){return this._depends}set depends(e){this._depends=e;}get getter(){return this._getter}set getter(e){this._getter=e;}get strPath(){return this._strPath||(this._strPath=this._path.join(".")),this._strPath}get error(){return this._error}set error(e){this._error=e;}toString(){return `ObserverObject<${this.strPath}>`}get value(){return this._associated?f(this.store.state,this._path):(this.store._notify({type:"get",path:this.path,value:this._value}),this._value)}set value(e){if(this._associated)C(this.store.state,this._path,e);else {let r=this._value;e!==r&&(this._value=e,this.store._notify({type:"set",path:this.path,value:e,oldValue:r}));}}_onObserverCreated(){typeof this.store.options.onObserverCreated=="function"&&this.store.options.onObserverCreated(this);}_onInitial(){this._options.initial!==void 0&&this.update(this._options.initial,{silent:true}),this.onInitial();}onInitial(){}onInitOptions(e){}update(e,r){this.store.update(()=>{this.value=e;},r);}silentUpdate(e){this.update(e,{silent:true});}watch(e,r){let o=this.store.watch(this.getValueWatchPath(),n=>{e.call(this,n);},r);return this._subscribers.push(o),o}getValueWatchPath(){return this.path.join(".")}emitStoreEvent(e,r){setTimeout(()=>{this.store.emit(e,r);},0);}getDepends(){return this.depends}onDependsChange(e){}attach(){!this._attached&&this.depends&&this.depends.length>0&&(this._subscribers.push(this.shadowStore.watch(this.getDepends(),this.onDependsChange.bind(this),{operates:"write"})),this.store.log(()=>`${this.toString()} subscribed to ${this.depends.map(e=>e.join(".")).join(",")}`),this._attached=true);}detach(){this._attached&&(this._subscribers.forEach(e=>e.off()),this._attached=false,this._subscribers=[],this.store.watchObjects.delete(this.id));}run(...e){}};var B=class extends I{constructor(r,o,n){super(r,o,n);this.descriptor=o;this.context=n;o.options.depends=j(this.path,this.options.depends);}toString(){return `ComputedObject<${W(this.path)}>`}get val(){return this.async?this.value.value:this.value}isDisable(r){return !this.store.options.enableComputed||!this.enable&&r!==true||r===false}run(r){throw new Error("Method not implemented.")}};var ae=class extends B{get async(){return  false}onInitial(){this.collectDependencies();}run(e){let{first:r,operate:o}=Object.assign({first:false,operate:void 0},e);if(this.error=void 0,!r&&this.isDisable(e?.enable)){this.store.log(`Sync computed <${this.toString()}> is disabled`,"warn");return}!r&&this.store.log(()=>`Run sync computed for : ${this.toString()}`);let n=e?Object.assign({},this.options,e):this.options,i=L(this,"computed",this.context,n),s=n.initial;try{s=this.getter.call(this,i,{operate:o,first:r});}catch(a){this.error=a;}this.onDone(r,s,n);}onDone(e,r,o){let n=r;if(this.error&&S(o.onError)){let i=o.onError(this.error);i!==void 0&&(n=i);}if(e&&(this.initial=n),this.store.peep(()=>{this.value=n;}),this.error){if(!e&&this.emitStoreEvent("computed:error",{id:this.id,path:this.path,error:this.error,computedObject:this}),this.options.throwError)throw this.error}else !e&&this.emitStoreEvent("computed:done",{id:this.id,path:this.path,value:n,computedObject:this});}collectDependencies(){let e=[],r=this.shadowStore.watch(o=>{e.push(o.path);},{operates:["get"]});this.run({first:true}),r.off(),Array.isArray(this.options.depends)&&this.options.depends.length>0&&e.push(...j(this.path,this.options.depends)),this.depends=oe(e),this.attach();}onDependsChange(e){this.run({operate:e});}};function We(t,e,r,o,n){return r==="push"?(...i)=>{let s=e.length,a=o.apply(e,i);if(e.length>s){let u=Array.from({length:e.length-s},(p,c)=>c+s);t({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e});}return a}:r==="pop"?()=>{let i=e.length,s=o.apply(e);return e.length===i-1&&t({type:"remove",path:n,indexs:[i-1],value:[s],oldValue:void 0,parentPath:n,parent:e}),s}:r==="splice"?(i,s,...a)=>{let u=o.apply(e,[i,s,...a]);if(u.length>0){let p=Array.from({length:u.length},(c,d)=>i+d);t({type:"remove",path:n,indexs:p,value:u,oldValue:void 0,parentPath:n,parent:e});}if(a.length>0){let p=Array.from({length:a.length},(c,d)=>i+d);t({type:"insert",path:n,indexs:p,value:a,oldValue:void 0,parentPath:n,parent:e});}return u}:r==="unshift"?(...i)=>{let s=e.length,a=o.apply(e,i);if(e.length>s){let u=Array.from({length:e.length-s},(p,c)=>c);t({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e});}return a}:r==="shift"?()=>{let i=e.length,s=o.apply(e);return e.length===i-1&&t({type:"remove",path:n,indexs:[0],value:[s],oldValue:void 0,parentPath:n,parent:e}),s}:r==="fill"?(i,s,a)=>{let u=o.apply(e,[i,s,a]),p=s??0,c=a??e.length,d=Array.from({length:c-p},(h,y)=>y+p),m=Array.from({length:c-p},()=>i);return t({type:"update",path:n,indexs:d,value:m,oldValue:void 0,parentPath:n,parent:e}),u}:r==="concat"?(...i)=>{let s=e.length,a=o.apply(e,i),u=Array.from({length:i.length},(p,c)=>s+c);return t({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e}),a}:o}function je(t){return typeof t=="number"||typeof t=="string"&&!Number.isNaN(parseInt(t))}var ge=Symbol("__NOTIFY__");function $e(t,e,r,o,n){let i=this._updateValidateBehavior;if(i==="none")return  true;let s=this.schemas,a=s.get(e);if(!a)return  true;let u=a.onValidate||this.options.onValidate;if(typeof u!="function")return  true;let p=i!==void 0?i:a.onFail||"throw",c=true,d=a.invalidTips||"validate error",m=true,h;try{c=u.call(this,r,o,e)!==!1;}catch(y){h=y;}finally{if(c)delete s.errors[e.join("_$_")];else {if(S(d))try{d=d.call(this,h,e,r,o);}catch{}else h&&!d&&(d=h.message);if(typeof d=="string"&&d.includes("{")&&d.includes("}")){let y=s.get(e);y&&(d=d.replace(/\{([^}]+)\}/g,(O,H)=>y[H]));}s.errors[e.join(this.options.delimiter)]=d;}this.emit("validate",{path:[...n,...e],newValue:r,oldValue:o,error:d});}if(!c){if(p==="throw")throw new M(d);p==="throw-pass"?m=new M(d):p==="ignore"?m=false:m=true;}return m}function Pe(t,e,r,o,n){if(U(t)||typeof t!="object"||t===null)return t;if(r.has(t))return r.get(t);let i=new Proxy(t,{get:(s,a,u)=>{let p=Reflect.get(s,a,u);if(typeof a!="string")return p;let c=[...e,String(a)];if(typeof p=="function"||!Object.hasOwn(s,a))if(typeof p=="function"){if(Array.isArray(s)&&!je(a))return We(n.notify,s,a,p,e);if(!U(p)&&Object.hasOwn(s,a)){if(typeof this.options.onObserverInitial=="function")try{if(this.options.onObserverInitial.call(this,c,p,s)===!1)return g(p),p}catch(m){this.log(`onObserverBeforeCreate error: ${m.message}`,"error");}let d=c.join(".");try{if(o.has(d)){let m=[...o.keys(),d];throw o.clear(),new k(`Find circular dependency at <"${c}">, steps: ${m.join(" -> ")}`)}return o.set(d,!0),n.createObserverObject(c,p,e,s)}finally{o.delete(d);}}else return p}else return p;return n.notify({type:"get",path:c,indexs:[],value:p,oldValue:void 0,parentPath:e,parent:s}),Pe.call(this,p,c,r,o,n)},set:(s,a,u,p)=>{let c=Reflect.get(s,a,p),d=[...e,String(a)],m=$e.call(this,i,d,u,c,e);if(m){let h=Reflect.set(s,a,u,p);if(a===ge)return  true;if(h&&a!==ge&&u!==c&&n.notify({type:Array.isArray(s)?"update":"set",path:d,indexs:[],value:u,oldValue:c,parentPath:e,parent:s}),m instanceof Error)throw m;return h}else return  true},deleteProperty:(s,a)=>{let u=s[a],p=[...e,String(a)],c=Reflect.deleteProperty(s,a);return c&&a!==ge&&(this.schemas.remove(p),n.notify({type:"delete",path:p,indexs:[],value:u,oldValue:void 0,parentPath:e,parent:s})),c}});return r.set(t,i),i}function Le(t,e){let r=new Map,o=new WeakMap;return Pe.call(this,t,[],o,r,e)}async function be(t){return new Promise((e,r)=>setTimeout(e,t))}function Ie(t){return t instanceof Error?t:new Error(t)}var pe=class extends B{_isRunning=false;_defaultAbortController=null;_userAbortController;_firstRun=false;get async(){return  true}get value(){return super.value}set value(e){super.value=e;}get running(){return this._isRunning}onInitOptions(e){e.reentry===void 0&&(e.reentry=this.store.options.reentry);}onInitial(){this.initial=this.createAsyncComputedValue(),this.attach(),setTimeout(()=>{(this.options.immediate===true||this.options.immediate==="auto"&&this.options.initial===void 0)&&this.run({first:true});},0);}createAsyncComputedValue(){return Object.assign({[X]:true,loading:false,timeout:0,retry:0,error:null,value:this.options.initial,progress:0,run:g(e=>this.store.computedObjects.run(this.id,Object.assign({},e))),cancel:g(()=>{this.getAbortController().abort();})})}updateComputedValue(e){let r=this.strPath,o=Object.keys(e).length;if(this.associated)this.store.update(n=>{Ve(n,this.path,e);},{batch:o>1?r:false});else {Object.assign(this.value,e);let n=o>1,i=[];Object.entries(e).forEach(([s,a])=>{let u={type:"set",path:[...this.path,s],value:a,parent:this.value};n&&(u.reply=true),this.store.operates.emit(`${this.strPath}.${s}`,u),i.push(u);}),n&&this.store.operates.emit(this.strPath,{type:"batch",path:this.path,value:i});}}async run(e){let{first:r}=e??{};if(this.isDisable(e?.enable)){this.store.log(()=>`Async computed <${this.toString()}> is disabled`,"warn");return}this.error=void 0,this._firstRun=true,!r&&this.store.log(()=>`Run async computed for : ${this.toString()}`);let o=e?Object.assign({first:r},this.options,e):this.options,n=L(this,"computed",this.context,o),{reentry:i}=o;if(this._isRunning&&!i){this.store.log(()=>`Async computed: ${this.toString()} is running, can't reentry`,"warn"),this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,reason:"reentry",computedObject:this});return}this._isRunning=true;try{return await this.executeGetter(n,o)}finally{this._isRunning=false;}}createComputeProgressbar(e){let{max:r=100,min:o=0,value:n=0}=Object.assign({},e);return this.updateComputedValue({progress:n}),{value:i=>{i>r&&(i=r),i<o&&(i=o),this.updateComputedValue({progress:i});},end(){this.value(r);}}}getAbortController(e){if(e&&typeof e.abortController=="function"){let r=e.abortController();r&&r instanceof AbortController&&(this._userAbortController=r);}return this._userAbortController?this._userAbortController:(this._defaultAbortController||(this._defaultAbortController=new AbortController),this._defaultAbortController.signal.aborted&&(this._defaultAbortController=new AbortController),this._defaultAbortController)}setTimeoutControl(e,r,o){let{timeout:n}=o,[i=0,s=0]=Array.isArray(n)?n:[n,0],a,u;return i>0&&(r.timeout=s>1?s:i,u=setTimeout(()=>{e.hasTimeout=true,e.hasError=true,e.error="TIMEOUT",typeof e.timeoutCallback=="function"&&e.timeoutCallback(),clearInterval(a),this.updateComputedValue({loading:false,error:"TIMEOUT",timeout:0});},i),s>1&&(a=setInterval(()=>{this.updateComputedValue({timeout:s--}),s===0&&clearInterval(a);},i/(s+1)))),{clear:()=>{clearTimeout(u),clearInterval(a);},enable:i>0}}async executeGetter(e,r){let{retry:o=[0,0]}=r,[n,i]=Array.isArray(o)?o:[Number(o),0],s,a=this.getAbortController(r),u={onTimeout:h=>s=h,getProgressbar:this.createComputeProgressbar.bind(this),getSnap:h=>h,cancel:a.abort,extras:r.extras,operate:r.operate,first:r.first,abortSignal:a.signal},p={error:null,hasError:false,hasTimeout:false,hasAbort:false,timeoutCallback:s};a.signal.addEventListener("abort",()=>p.hasAbort=true);let c={clear:()=>{},enable:false},d,m=h=>Object.assign(p,h);for(let h=0;h<n+1;h++){let y={};try{let O={loading:!0};if(p.hasError&&(O.error=null),n>0&&(O.retry=h>0?n-h+1:0),h>0&&m({error:null,hasError:!1,hasTimeout:!1}),c=this.setTimeoutControl(p,O,r),this.updateComputedValue(O),p.hasAbort)throw new F;if(d=await this.getter.call(this,e,u),p.hasAbort)throw new F;p.hasTimeout||(y.value=d,c.enable&&(y.timeout=0));}catch(O){if(p.hasError=true,p.error=O,p.hasTimeout||(y.error=Ie(O).message),S(r.onError)){let H=r.onError(O);H!==void 0&&(y.value=H);}}finally{c.clear(),h===n&&(p.hasTimeout&&(y.error=p.error),n>0&&(y.retry=0)),y.loading=false,this.updateComputedValue(y);}p.hasError&&n>0&&i>0&&h<n&&await be(i);}p.hasAbort?this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,computedObject:this}):p.hasError||p.hasTimeout?(this.error=p.error,this.emitStoreEvent("computed:error",{path:this.path,id:this.id,error:p.error,computedObject:this})):this.emitStoreEvent("computed:done",{path:this.path,id:this.id,value:d,computedObject:this}),this.onDoneCallback(r,p.error,p.hasAbort,p.hasTimeout,e,d);}onDoneCallback(e,r,o,n,i,s){typeof e.onDone=="function"&&e.onDone.call(this,{id:this.id,path:this.path,value:s,error:r,abort:o,timeout:n,scope:i});}onDependsChange(e){this.store.log(()=>`AsyncComputed<${this.id}> is running by depends ${e.type}/${e.path.join(".")} operate `),this.run({operate:e,first:!this._firstRun});}getValueWatchPath(){let e=this.path.join(".");return [`${e}.*`,e]}getDepends(){return super.getDepends().map(r=>{if(r.length===0)return r;for(let o of this.store.computedObjects.values())if(A(o.path,r)&&o.async)return [`${r}.value`];return r})}};function Be(){let t=arguments[0],e=typeof arguments[1]=="function"?arguments[1]:()=>true,r=typeof arguments[1]=="object"?arguments[1]:arguments[2],o=Object.assign({depends:[],enable:true,objectify:true,filter:e},r),n=()=>({type:"watch",getter:t,options:o});return n[D]=true,n}var ue=class extends Map{constructor(r){super();this.store=r;}_watcher={off:()=>{}};_enable=true;get enable(){return this._enable}set enable(r){this._enable=r;}set(r,o){return super.size===0&&this.createWacher(),super.set(r,o)}createWacher(){this._watcher=this.store.watch("**",({path:r,value:o})=>{if(!this._enable)return;let n=r[0].startsWith("#")?o:f(this.store.state,r);for(let i of this.values())i.isMatched(r,n)&&i.run(r,n);});}reset(){this._watcher&&this._watcher.off();for(let r of this.values())r.reset();this.createWacher();}create(){let r=v(arguments[0])?arguments[0]:Be(...arguments)();return this.store._createWatch(r)}enableGroup(r,o=true){for(let n of this.values())n.options.group===r&&(n.options.enable=o);}};var ce=class extends I{constructor(r,o,n){super(r,o,n);this.store=r;this.context=n;if(typeof this.options.filter!="function")throw new Error("watch options.filter must be a function")}_cache;get filter(){return this.options.filter}get cache(){return this._cache||(this._cache={}),this._cache}toString(){return `WatchObject<${this.id}>`}onInitial(){}isMatched(r,o){return Z(r,this.path)?false:this.filter(r,o)}reset(){this._cache={},this.value=this.initial;}run(r,o){if(!this.enable){this.store.log(`WatchObject <${this.toString()}> is disabled`);return}try{let n=this.getter?.call(this,{path:r,value:o},this);this.value=n,this.emitStoreEvent("watch:done",{value:n,watchObject:this});}catch(n){this.emitStoreEvent("watch:error",{error:n,watchObject:this});}}};function Se(t,e){return new Proxy(t,{get(o,n,i){return n==="on"?(s,a,u)=>t.on(`${e}${"."}${s}`,(p,c)=>a(p,c.slice(e.length+1)),u):n==="once"?(s,a)=>t.once(`${e}${"."}${s}`,(u,p)=>{a(u,p.slice(e.length+1));}):n==="off"?(s,a)=>t.off(`${e}${"."}${s}`,a):n==="emit"?(s,a)=>t.emit(`${e}${"."}${s}`,a):n==="wait"?async(...s)=>{if(typeof s[0]=="string")return s[0]=`${e}${"."}${s[0]}`,t.wait(...s);if(typeof s[0]=="function"){let a=s[0];return s[0]=(u,p)=>{u.startsWith(e)&&a(u.slice(e.length+1),p);},t.wait(...s)}}:n==="offAll"?()=>{for(let[s]of t.listeners.entries())s!=="*"&&typeof s=="string"&&s.startsWith(`${e}.`)&&t.listeners.delete(s);}:n==="onAny"?s=>t.on(`${e}${"."}**`,(a,u)=>{s(a,u.slice(e.length+1));}):n==="scope"?s=>Se(t,`${e}${"."}${s}`):Reflect.get(o,n,i)}})}var $=class{_listeners=new Map;get listeners(){return this._listeners}on(){let e=arguments[0],r=arguments[1],o=arguments[2],n=r;return e==="**"?this.addHandler("*",n,o):String(e).includes("*")?(n=(i,s)=>{xe(s,e)&&r(i,s);},this.addHandler("*",n,o)):this.addHandler(e,n,o),{off:()=>this.off(e,n)}}addHandler(e,r,o){let n=this._listeners.get(e);n?o?n.unshift(r):n.push(r):this._listeners.set(e,[r]);}once(e,r){let o=(n,i)=>{try{r(n,i);}finally{this.off(i,o);}};return this.on(e,o)}off(e,r){String(e).includes("*")&&(e="*");let o=this._listeners.get(e);o&&(r?o.splice(o.indexOf(r)>>>0,1):this._listeners.set(e,[]));}offAll(){this._listeners.clear();}onAny(e){return this.on("**",e)}wait(){let e=typeof arguments[0],r=e==="string"?arguments[0]:void 0,o=arguments[1]||0,n=e==="function"?e:void 0,i;return new Promise((s,a)=>{let u;r?u=this.once(r,p=>{clearTimeout(i),s(p);}):typeof n=="function"&&(u=this.onAny((p,c)=>{n(c,p)!==false&&(u.off(),clearTimeout(i),s(p));})),o>0&&(i=setTimeout(()=>{u.off(),a(new Error("timeout"));},o));})}emit(e,r){let o=this._listeners.get("*");o&&o.slice().map(n=>{n(r,e);}),o=this._listeners.get(e),o&&o.slice().map(n=>{n(r,e);});}scope(e){return Se(this,e)}};function Fe(t){let e;return R(t)?e=t():typeof t=="function"&&(e={type:"computed",getter:t,options:Object.assign({},Q(),{async:z(t)})}),e}function Oe(t,e){if(e==="*")return  true;if(e==="write"){if(t.type==="get")return}else if(e==="read"){if(t.type!=="get")return}else if(Array.isArray(e)&&e.length>0&&!e.includes(t.type))return;return  true}function le(t){t.startsWith("```")&&t.endsWith("```")&&(t=t.slice(3,-3));let e=/^\s*(?:function\s*\(([^)]*)\)\s*\{([\s\S]*)\}|\(([^)]*)\)\s*=>\s*(?:\{([\s\S]*)\}|(.+)))$/m.exec(t);if(!e)return;let[,r,o,n,i,s]=e,a=(r||n).split(",").map(p=>p.trim()).filter(Boolean),u=o||i||`return ${s}`;try{return new Function(...a,u)}catch{}}var de=class{constructor(e){this.shadow=e;}errors={};_subscribers=[];store;_descriptors={};get fields(){return this.store.state}get size(){return Object.keys(this.fields).length}_getKey(e){return Array.isArray(e)?e.join("_$_"):e.split(".").join("_$_")}_getPath(e){return e.split("_$_")}add(e,r){let o=ie(r)?r():r,n=Array.isArray(e)?e:e.split("."),i=this._getKey(e);o.options.onFail||(o.options.onFail="throw-pass");let s=Object.assign({},this.shadow.options.defaultSchemaOptions,o.options,{path:n,datatype:o.datatype,value:o.value});return typeof s.onValidate=="string"&&(s.onValidate=g(le(s.onValidate))),this._descriptors[i]=s,this.shadow&&o.value!==void 0&&this.shadow.update(a=>{C(a,n,o.value);},{validate:"pass"}),o}build(){this.store||this._descriptors&&(this.store=this.shadow.shadow(this._descriptors));}get(e){if(this.store)return f(this.store.state,[this._getKey(e)])}has(e){return this.store?this._getKey(e)in this.store.state:false}watch(){return this.store.watch(...arguemnts)}getValidator(e){if(!this.store)return;let r=this.get(e);if(r)return {validate:r.onValidate,onFail:r.onFail,message:r.invalidTips}}addValidator(e,r){if(!this.store)return;let o=this._getKey(e);this.store.update(n=>{Object.assign(n[o],{onValidate:g(r.validate),onFail:r.onFail||"throw-pass",invalidTips:r.message});});}remove(e){let r=this._getKey(e);this.store&&delete this.store.state[r];}getValues(){let e={};return Object.entries(this._descriptors||{}).forEach(([r,o])=>{let n=this._getPath(r),i=o.name??n.join(".");this.shadow.peep(s=>{e[i]=f(s,n);});}),e}find(e){let r=Array.isArray(e)?e:e.split(".");return Object.entries(this.fields).filter(([o])=>De(r,this._getPath(o))).map(([o,n])=>n)}};function He(t){Ce(t)&&re(t,({value:e,key:r,parent:o})=>{S(e)&&(r.startsWith("on")||r.startsWith("render")||r.startsWith("to"))&&(o[r]=g(e));});}function ke(t){let e={value:t[0],options:Object.assign({onFail:"throw-pass"},t[1])};if(!e.options.widget&&typeof e.options.toInput!="function"){let r=typeof e.value;r==="boolean"?e.options.widget="checkbox":r==="number"&&(e.options.widget="number"),Array.isArray(e.options.select)&&(e.options.widget="select");}return "onValidate"in e.options&&g(e.options.onValidate),He(e.options),e}var _e=function(){let t=arguments[0],e=arguments[1],r=ke([t,e]),o=t,n=Array.isArray(o)?"array":typeof o;typeof o=="object"&&g(o);let i=()=>({value:o,datatype:n,options:r.options});return i[T]=true,i},gi=_e,bi=_e;function E(t,e){return function(){let o=Object.assign({},arguments[1]);return typeof o.onValidate!="function"&&(o.onValidate=t),o.invalidTips||(o.invalidTips=e),_e(arguments[0],o)}}var Ke={number:E(t=>typeof t=="number","must be a number"),string:E(t=>typeof t=="string","must be a string"),boolean:E(t=>typeof t=="boolean","must be a boolean"),date:E(t=>t instanceof Date,"must be a date"),bigint:E(t=>typeof t=="bigint","must be a bigint"),array:E(t=>Array.isArray(t),"must be an array"),object:E(t=>typeof t=="object","must be an object")},Si=Ke;function Me(t,e,r){let o=new he(e,Object.assign({},r,{id:`${t.id}_shadow`,getRootScope:()=>t.state,getShadowStore:()=>t,debug:t.options.debug,shadow:true,onObserverBeforeCreate:n=>{let i=n.options.scope;(!i||Te(i))&&(n.options.scope="ROOT");}}));return t.watch(n=>{o.operates.emit(n.path.join("."),n);}),o}var he=class extends ${_data;computedObjects;watchObjects;_operates=new $;_options;_silenting=false;_batching=false;_batchOperates=[];_updateFlags=0;_peeping=false;_updateValidateBehavior;_updatedState;_updatedWatcher;_schemas;_delimiter=".";types={rawState:void 0,state:void 0,schemas:void 0,schemaKeys:void 0};constructor(e,r){super(),this._options=ye({id:te(),debug:false,enableComputed:true,reentry:true,resetable:false,delimiter:".",log:we,shadow:false},r),this._delimiter=this._options.delimiter,this.computedObjects=new se(this),this.watchObjects=new ue(this),this.subscribeCallbacks(),this._data=Le.call(this,e||{},{notify:this._notify.bind(this),createObserverObject:this.createObserverObject.bind(this)}),this.getSnap=this.getSnap.bind(this),this.watch=this.watch.bind(this),this.update=this.update.bind(this),this.peep=this.peep.bind(this),this.silentUpdate=this.silentUpdate.bind(this),this.batchUpdate=this.batchUpdate.bind(this),this.trace=this.trace.bind(this),this.collectDependencies=this.collectDependencies.bind(this),this.installExtends(),re(this._data,this._onFirstEachState.bind(this)),this._options.shadow||this.schemas.build(),this._options.resetable&&(this.resetable=true),this._options.debug&&typeof globalThis.__AUTOSTORE_DEVTOOLS__=="object"&&globalThis.__AUTOSTORE_DEVTOOLS__.add(this),this.emit("load",this);}get id(){return this._options.id}get state(){return this._data}get operates(){return this._operates}get options(){return this._options}get silenting(){return this._silenting}get delimiter(){return this._delimiter}get batching(){return this._batching}get peeping(){return this._peeping}get resetable(){return this._options.resetable}get schemas(){return this._schemas||(this._schemas=new de(this)),this._schemas}set resetable(e){if(e){if(this._updatedWatcher)return;this._updatedState={},this._updatedWatcher=this.watch(({path:r,oldValue:o})=>{if(r.length===0)return;let n=r.join(this._delimiter);!n.startsWith("#")&&!(n in this._updatedState)&&(this._updatedState[n]=o);},{operates:"write"});}else this._updatedWatcher&&(this._updatedWatcher.off(),this._updatedWatcher=void 0),this._updatedState={};this._options.resetable=e;}reset(e){if(this._options.resetable&&this._updatedState)try{this.batchUpdate(r=>{let o=e?`${e}${this._delimiter}`:"";Object.entries(this._updatedState).forEach(([n,i])=>{n.startsWith(o)&&C(r,n.split(this._delimiter),i);});});}finally{this.emit("reset",e);}else this.log("resetable option is not enabled","warn");}_onFirstEachState({value:e,path:r}){typeof e=="string"&&e.startsWith("```")&&e.endsWith("```")&&this.update(o=>{let n=le(e.slice(3,e.length-3));g(n),C(o,r,n);},{silent:true});}log(e,r){this._options.debug&&this.options.log.call(this,e,r);}installExtends(){let e=globalThis.__AUTOSTORE_EXTENDS__;Array.isArray(e)&&e.forEach(r=>{typeof r=="function"&&r(this);});}subscribeCallbacks(){this._options.onComputedCreated&&this.on("computed:created",this._options.onComputedCreated.bind(this)),this._options.onComputedDone&&this.on("computed:done",this._options.onComputedDone.bind(this)),this._options.onComputedError&&this.on("computed:error",this._options.onComputedError.bind(this)),this._options.onComputedCancel&&this.on("computed:cancel",this._options.onComputedCancel.bind(this)),this._options.onObserverBeforeCreate&&this.on("observer:beforeCreate",this._options.onObserverBeforeCreate.bind(this));}_notify(e){this._peeping&&e.type==="get"||(this._batching&&this._batchOperates.push(e),!this._silenting&&(e.flags=this._updateFlags,this.operates.emit(e.path.join(this._delimiter),e)));}watch(){let e=typeof arguments[0]=="function"||["*","**"].includes(arguments[0])||Array.isArray(arguments[0])&&arguments[0].length===0,r=typeof arguments[0]=="function"?arguments[0]:arguments[1],o=arguments.length>=2&&typeof arguments[arguments.length-1]=="object"?arguments[arguments.length-1]:void 0,n=(i,s)=>a=>{if(Oe(a,i)&&!(typeof s=="function"&&!s(a)))try{if(this._peeping=!0,a.type==="batch"){let u=a.value.filter(p=>Oe(p,i));if(u.length>0)a.value=u;else return}r(a);}finally{this._peeping=false;}};if(e){let{operates:i,filter:s}=Object.assign({once:false,operates:"write"},o),a=n(i,s);return this.operates.onAny(a)}else {let i=arguments[0],s=Array.isArray(i)?i.map(h=>typeof h=="string"?h:h.join(this._delimiter)):[i],{once:a,operates:u,filter:p}=Object.assign({once:false,operates:"write"},o),c=a?this.operates.once.bind(this.operates):this.operates.on.bind(this.operates),d=[],m=n(u,p);return s.forEach(h=>{d.push(c.call(this,h,m));}),{off:()=>d.forEach(h=>{h.off();})}}}createObserverObject(e,r,o,n){if(ie(r))return this.schemas.add(e,r).value;{let i=Fe(r),s={path:e,value:r,parentPath:o,parent:n};if(i){if(i.type==="computed")return this._createComputed(i,s)?.initial;if(i.type==="watch")return this._createWatch(i,s)?.initial}else return r}}_createComputed(e,r){let o;return this.emit("observer:beforeCreate",e),e.options.async?o=new pe(this,e,r):o=new ae(this,e,r),o&&(o.silentUpdate(o.initial),o.options.objectify&&this.computedObjects.set(o.id,o),this.emit("computed:created",o),this.emit("observer:afterCreate",e)),o}_createWatch(e,r){this.emit("observer:beforeCreate",e);let o=new ce(this,e,r);return this.watchObjects.set(o.id,o),this.emit("watch:created",o),this.emit("observer:afterCreate",e),o}silentUpdate(e){this.update(e,{silent:true});}batchUpdate(e){this.update(e,{batch:true,validate:"pass"});}update(e,r){let{batch:o=false,reply:n=true,silent:i=false,peep:s=false,flags:a=0,validate:u}=Object.assign({},r);if(typeof e=="function"){this._updateFlags=a,this._updateValidateBehavior=u,i&&(this._silenting=true),o&&(this._batching=true,this._silenting=true),s&&(this._peeping=true);try{let p=e(this.state);if(o&&Ee(p))throw new Error("Batch update method can't be async function")}finally{this._silenting=false,this._batching=false,this._peeping=false,this._updateFlags=0,this._updateValidateBehavior=void 0,this.replyBatchOperates(n,o);}}else throw new Error("update method must provide a function argument")}replyBatchOperates(e,r){if(this._batchOperates.length>0){let o=[...this._batchOperates];this._batchOperates=[],e&&o.forEach(n=>{n.reply=true,this._notify(n);});try{let n=r===!0?Ae:String(r);this.operates.emit(n,{type:"batch",path:[n],value:o});}finally{this._batchOperates=[];}}}peep(){let e=typeof arguments[0]=="function"?()=>arguments[0](this.state):()=>f(this.state,Array.isArray(arguments[0])?arguments[0]:arguments[0].split(this._delimiter));this._peeping=true;try{return e()}finally{this._peeping=false;}}collectDependencies(e,r="*"){let o=[],n=this.watch(i=>{o.push(i.path);},{operates:r});try{e();}finally{n.off();}return oe(o)}trace(e,r="*"){let o;return {stop:()=>o?.off(),start:async n=>{let i=[];return new Promise(s=>{o=this.watch(a=>{i.push(a),n?.(a)&&(o.off(),s(i));},{operates:r}),Promise.resolve(e()).finally(()=>{typeof n!="function"&&(o.off(),s(i));});})}}}destroy(){this.offAll(),this._operates.offAll(),this.watchObjects.clear(),this.computedObjects.clear(),this.emit("unload",this);}getSnap(e){let{reserveAsync:r,entry:o,includeFunc:n}=Object.assign({reserveAsync:true},e);return ne(o?f(this._data,o):this._data,{reserveAsync:r,includeFunc:n})}shadow(e,r){return Me(this,e,r)}get(e,r){let{defaultValue:o,timeout:n=0,expandAsync:i=false,waitAsyncDone:s=false}=Object.assign({},r),a=Array.isArray(e)?e:e.split(this.delimiter),u=f(this.state,a,o);return b(u)?u.loading&&s?new Promise((p,c)=>{let d,m;n>0&&(d=setTimeout(()=>{m?.off(),c(new V);},n)),m=this.on("computed:done",({path:h})=>{A(a,h)&&(clearTimeout(d),m?.off(),p(i?u.value:u));});}):i?u.value:u:u}toString(){return `AutoStore<${this.id}>`}};exports.ASYNC_COMPUTED_VALUE=X;exports.AbortError=F;exports.AsyncComputedObject=pe;exports.AutoStore=he;exports.AutoStoreError=_;exports.BATCH_UPDATE_EVENT=Ae;exports.ComputedObject=B;exports.ComputedObjects=se;exports.CyleDependError=k;exports.DELETE_FLAG=Xe;exports.EMPTY=Ye;exports.EventEmitter=$;exports.InvalidComputedArgumentsError=K;exports.InvalidDependsError=q;exports.InvalidScopeError=N;exports.OBSERVER_DESCRIPTOR_BUILDER_FLAG=D;exports.OBSERVER_DESCRIPTOR_FLAG=ve;exports.ObserverObject=I;exports.ObserverScopeRef=Re;exports.PATH_DELIMITER=l;exports.SKIP_PROXY_FLAG=Y;exports.SchemaManager=de;exports.SyncComputedObject=ae;exports.TimeoutError=V;exports.VALUE_SCHEMA_BUILDER_FLAG=T;exports.ValidateError=M;exports.WatchObject=ce;exports.WatchObjects=ue;exports.c=bi;exports.calcDependPaths=j;exports.computed=J;exports.configurable=gi;exports.createAsyncComptuedValue=Rr;exports.createObserverObject=Sr;exports.createTypeSchemaBuilder=E;exports.defineExtend=mr;exports.delay=Xt;exports.forEachObject=re;exports.getAsyncVal=Dr;exports.getComputedId=$t;exports.getDepends=rr;exports.getId=te;exports.getMapVal=ee;exports.getSnap=Ue;exports.getSnapshot=ne;exports.getVal=f;exports.isAbsolutePath=fe;exports.isAsyncComputedValue=b;exports.isComputedDescriptorParameter=Ar;exports.isEq=Z;exports.isFunction=S;exports.isMap=w;exports.isObserverDescriptor=v;exports.isObserverDescriptorBuilder=R;exports.isPathEq=A;exports.isPathMatched=xe;exports.isPlainObject=Ce;exports.isPrimitive=dr;exports.isPromise=Ee;exports.isProxy=At;exports.isRaw=U;exports.isRelPath=Te;exports.isSchemaBuilder=ie;exports.isValueSchema=Pr;exports.joinValuePath=W;exports.markRaw=g;exports.noRepeat=oe;exports.normalizeDeps=me;exports.pathIsExists=sr;exports.pathStartsWith=De;exports.s=Si;exports.schema=_e;exports.schemas=Ke;exports.setVal=C;exports.updateObjectVal=Ve;exports.watch=Be;return exports;})({});//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map