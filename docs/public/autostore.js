var AutoStoreSpaces=(function(exports){'use strict';var Ae=Object.defineProperty;var o=(e,t)=>Ae(e,"name",{value:t,configurable:true}),R=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});function $t(e,...t){if(t.length===0)return e;let r=t.map((s,i)=>{let n=Object.entries(s||{});return n.some(([a,l])=>l===void 0)?n.reduce((a,[l,f])=>(f!==void 0&&(a[l]=f),a),{}):s});return Object.assign(e,...r)}o($t,"u");function et(e){return e!=null&&typeof e[Symbol.iterator]=="function"&&typeof e!="string"}o(et,"t");function S(e){if(typeof e!="object"||e===null)return  false;var t=Object.getPrototypeOf(e);if(t===null)return  true;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return t===r}o(S,"o");function Wt(e,t=false){if(typeof e=="number")return  true;if(typeof e!="string"||t)return  false;try{if(e.includes(".")){let r=parseFloat(e);return e.endsWith(".")?!isNaN(r)&&String(r).length===e.length-1:!isNaN(r)&&String(r).length===e.length}else {let r=parseInt(e);return !isNaN(r)&&String(r).length===e.length}}catch{return  false}}o(Wt,"r");function P(e){if(Wt(e)||typeof e=="boolean"||typeof e=="function"||e instanceof Error)return  false;if(e==null||e==null||Array.isArray(e)&&e.length==0||S(e)&&Object.keys(e).length==0||typeof e=="string"&&e.trim()=="")return  true;try{if(et(e)&&e.size==0)return !0}catch{}return  false}o(P,"s");function Ut(e,{empty:t,delimiter:r=","}){let s=e;try{return typeof s=="function"&&(s=s.call(this,s)),P(s)&&(s=t||""),Array.isArray(s)?s.map(i=>String(i)).join(r):S(s)?Object.entries(s).reduce((i,[n,a])=>(i.push(`${n}=${String(a)}`),i),[]).join(r):et(s)&&typeof s!="string"?[...s].map(i=>String(i)).join(r):s instanceof Error?s.message:String(s)}catch{return String(s)}}o(Ut,"h");var Oe=/\{(\<(.*?)\>)?\s*([^\{\}\>\<]*)(?<!\s)\s*(\<(.*?)\>)?\}/gm;function Tt(e,t,r){let s,i=$t({empty:null,delimiter:",",forEach:null},r);typeof t=="function"&&(t=t.call(e)),Array.isArray(t)&&t.length==1&&(S(t[0])||Array.isArray(t[0]))&&(t=t[0]),["boolean","string","number"].includes(typeof t)?s=[t]:t instanceof Map?s=[...t.entries()].reduce((a,l)=>(a[l[0]]=l[1],a),{}):Symbol.iterator in t?s=[...t]:S(t)?s=t:t instanceof Error?s=[`Error:${t.message}`]:s=[t];let n=0;return e.replaceAll(Oe,function(){let a=arguments[2]||"",l=arguments[3]||"",f=arguments[5]||"",u="",c=false;if(Array.isArray(s)){let p=n>=s.length;u=p?"":Ut.call(e,s[n],i),c=P(u)||p,n++;}else if(S(s)){let p=l in s;u=p?Ut.call(e,s[l],i):"",c=P(u)||!p;}if(typeof i.forEach=="function"){let p=i.forEach(l,u,a,f);p!==void 0&&(Array.isArray(p)&&p.length==3?(a=p[0],u=p[1],f=p[2]):P(p)||(u=String(p)),c=P(u));}return c&&(i.empty==null?(u="",a="",f=""):u=i.empty),`${a}${u}${f}`})}o(Tt,"x");function Nt(e,...t){let r=e.valueOf(),s={},i=[...t];if(t.length>0&&S(t[t.length-1])){let n=t[t.length-1];("$delimiter"in n||"$empty"in n||"$forEach"in n)&&("$delimiter"in n&&(s.delimiter=n.$delimiter),"$empty"in n&&(s.empty=n.$empty),"$forEach"in n&&(s.forEach=n.$forEach),i.pop());}try{return i.length==1?Tt(r,i[0],s):Tt(r,[...i],s)}catch{return r}}o(Nt,"o");String.prototype.params=function(){return Nt(this,...arguments)};function Se(e,t,r){if(typeof t=="string"){let s=0,i;for(;(i=e.indexOf(t,s))>-1;){let n=typeof r=="function"?r(t):r,a=e.length;e=e.substring(0,i)+n+e.substring(i+t.length),s=i+n.length+e.length-a;}}else {let s;if(!t.global||!t.multiline)throw new Error("The search parameter must be enabled '/gm' option");for(;(s=t.exec(e))!==null;){s.index===t.lastIndex&&t.lastIndex++;let i=e.length,n=s[0].length,a=typeof r=="function"?r(s[0],...s):r;e=e.substring(0,s.index)+a+e.substring(s.index+n),t.lastIndex+=e.length-i;}}return e}o(Se,"s");String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Se(this,e,t)});(e=>typeof R<"u"?R:typeof Proxy<"u"?new Proxy(e,{get:o((t,r)=>(typeof R<"u"?R:t)[r],"get")}):e)(function(e){if(typeof R<"u")return R.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var w=class extends Error{static{o(this,"AutoStoreError");}},Y=class extends w{static{o(this,"AbortError");}},M=class extends w{static{o(this,"TimeoutError");}},rt=class extends w{static{o(this,"CyleDependError");}},st=class extends w{static{o(this,"InvalidComputedArgumentsError");}},it=class extends w{static{o(this,"InvalidScopeError");}},nt=class extends w{static{o(this,"InvalidDependsError");}},ot=class extends w{static{o(this,"ValidateError");}behavior};var at="__AS_SKIP_PROXY__",D="__AS_OBSERVER_DESCRIPTOR_BUILDER__",Bt="__AS_OBSERVER_DESCRIPTOR__",g=".",Gt="__batch_update__",lt="__AS_ASYNC_COMPUTED_VALUE__",fs="__AS_EMPTY__",I="__AS_VALUE_SCHEMA__",cs="__AS_DELETE_FLAG__",X="AutoStoreConfigManager";function ut(e){return e.constructor.name==="AsyncFunction"}o(ut,"isAsyncFunction");function Vt(e){return e?e.map(t=>Array.isArray(t)?t:typeof t=="string"?["/","./","../"].some(r=>t.startsWith(r))?t:t.includes(".")?t.split("."):t.split("."):[]):[]}o(Vt,"normalizeDeps");function ft(){return {async:false,enable:true,timeout:0,depends:[],immediate:"auto",extras:void 0,objectify:true}}o(ft,"getDefaultComputedOptions");function F(){let e=arguments[0];if(typeof e!="function")throw new Error("computed getter must be a function");let t=[],r=Object.assign({},ft());if(arguments.length===1)t=[];else if(arguments.length===2)if(Array.isArray(arguments[1]))r.depends=arguments[1];else if(typeof arguments[1]=="object")Object.assign(r,arguments[1]),r.depends=Vt(r.depends);else throw new st;else arguments.length>=3&&(t=Vt(arguments[1]),Object.assign(r,arguments[2]),r.depends=t);r.async=r.async===true||ut(e)||arguments.length>=2&&Array.isArray(arguments[1]);let s=o(()=>({type:"computed",getter:e,options:r,[Bt]:true}),"descriptorBuilder");return s[D]=true,s}o(F,"computed");function Ct(e){return e?e.some(t=>typeof t=="string"?t.startsWith("./")||t.startsWith("../")||t.startsWith("@")?false:!["CURRENT","SELF","PARENT"].includes(t):true):false}o(Ct,"isAbsolutePath");function j(e){return typeof e=="object"&&e.hasOwnProperty("type")&&typeof e.type=="string"&&e.hasOwnProperty("getter")&&typeof e.getter=="function"&&e.hasOwnProperty("options")&&typeof e.options=="object"}o(j,"isObserverDescriptor");function z(e){try{return e[at]===!0}catch{}return  false}o(z,"isRaw");function ct(e,t){if(e===t)return  true;if(e===null||t===null||typeof e!=typeof t)return  false;if(typeof e=="object"){if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?false:e.every((r,s)=>ct(r,t[s]));if(!Array.isArray(e)&&!Array.isArray(t)){let r=Object.keys(e);return r.length!==Object.keys(t).length?false:r.every(s=>ct(e[s],t[s]))}else return  false}return  false}o(ct,"isEq");function $(e){return toString.call(e)==="[object Map]"}o($,"isMap");function T(e,t){return !e||!t||e.length!==t.length?false:e.every((r,s)=>r===t[s])}o(T,"isPathEq");function Ht(e,t){let r=Array.isArray(e)?e:e.split("."),s=Array.isArray(t)?t:t===""?[]:t.split(".");return s.length===0||T(r,s)?true:(s[s.length-1]==="**"&&(s[s.length-1]="*",s.splice(s.length-1,0,...Array.from({length:r.length-s.length}).fill("*"))),r.length!==s.length?false:s.every((n,a)=>n==="*"||n==="**"?true:n===r[a]))}o(Ht,"isPathMatched");function pt(e){return e==null||typeof e!="object"?false:Object.prototype.toString.call(e)==="[object Object]"}o(pt,"isPlainObject");function O(e){return e&&typeof e=="object"&&e.hasOwnProperty(lt)}o(O,"isAsyncComputedValue");function Kt(e){try{return !!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"&&typeof e.catch=="function"&&(e instanceof Promise||Object.prototype.toString.call(e)==="[object Promise]")}catch{return  false}}o(Kt,"isPromise");function W(e){return typeof e=="function"&&e[D]===true}o(W,"isObserverDescriptorBuilder");function ti(e){return typeof e=="object"&&e!==null&&!("__isProxy"in e)}o(ti,"isProxy");function ht(e,t){let r=e.get(t);if(r!==void 0)return r;let s=e.get(Number(t)||t);if(s!==void 0)return s}o(ht,"getMapVal");function y(e,t,r){if(!t||t.length===0)return e;let s=Array.isArray(t)?t:t.split("."),i,n=e;for(let a=0;a<s.length;a++){let l=s[a];if($(n))i=ht(n,l);else if(l in n)i=n[l];else return r;n=i;}return i}o(y,"getVal");function V(e){try{["object","function"].includes(typeof e)&&(e[at]=!0);}catch{}return e}o(V,"markRaw");function C(e,t,r,s){if(!t||!e)return e;let i=t;if(i.length===0)return typeof e=="object"&&Object.assign(e,r),e;{let n=e,a=[],l=o((f,u,c)=>{s&&O(f[u])?f[u].value=c:f[u]=c;},"update");for(let f=0;f<i.length;f++){let u=i[f];if(a.push(u),n)if(Array.isArray(n)){let c=parseInt(u,10);if(Number.isNaN(c)||c<0)throw new Error(`setVal: invalid array index ${a.join(".")}`);f===i.length-1?l(n,c,r):n=n[c];}else n instanceof Map||n instanceof WeakMap?f===i.length-1?n.set(u,r):(n.has(u)||n.set(u,{}),n=n.get(u)):typeof n=="object"&&u in n?f===i.length-1?l(n,u,r):n=n[u]:(n[u]=f===i.length-1?r:{},n=n[u]);else n[u]=f===i.length-1?r:{},n=n[u];}}return e}o(C,"setVal");function U(e){return (e||["ROOT"]).map(t=>Array.isArray(t)?t.join("."):t).join(".")}o(U,"joinValuePath");function mt(){return Math.random().toString(36).slice(2)}o(mt,"getId");function k(e,t,r){let s=e&&!e[0].startsWith("#");if(Array.isArray(t))return t;if(t==="self")return s?e:void 0;if(t==="root")return s?[]:void 0;if(t==="parent")return s?e.slice(0,-2):void 0;if(t==="current")return s?e.slice(0,-1):void 0;if(typeof t=="string")return t.startsWith("./")?s?[...e.slice(0,-1),...t.slice(2).split(".")]:void 0:t.startsWith("../")?s?k(e.slice(0,-1),t.slice(3),true):void 0:t.startsWith("/")?t.replace(/^(\/)*/,"").split("."):s&&r?[...e.slice(0,-1),...t.split(".")]:t.split(".")}o(k,"getFullValuePath");function N(e,t){return t?t.map(r=>k(e,r)).filter(r=>r!==void 0):[]}o(N,"calcDependPaths");function Ti(e,t){let r="";return t.id?r=t.id:r=U(e),r}o(Ti,"getComputedId");function qt(e,t,r){let s=e,i=t.length-1;t.forEach((n,a)=>{let l=$(s);if(a===i){let f=l?s.get(n):s[n];typeof f=="object"&&Object.assign(f,r);return}l?(s.has(n)||s.set(n,{}),s=s.get(n)):(n in s||(s[n]={}),s=s[n]);});}o(qt,"updateObjectVal");function dt(e,t){function r(s,i){for(let n in s){let a=s[n];typeof t=="function"&&t({value:a,key:n,parent:s,path:i.concat(n)}),typeof a=="object"&&!z(a)&&r(a,i.concat(n));}}o(r,"_forEachObject"),r(e,[]);}o(dt,"forEachObject");function we(e){return e}o(we,"getSnap");function Wi(e=1e3){return new Promise(t=>{setTimeout(t,e);})}o(Wi,"delay");function gt(e){let t=new Map;return e.forEach(r=>{let s=r.join(".");t.set(s,r);}),Array.from(t.values())}o(gt,"noRepeat");function Hi(e,t){return e.length>t.length?false:e.every((r,s)=>r===t[s])}o(Hi,"pathStartsWith");function ki(e,t,r){let s=[];return typeof e=="function"?s=t.collectDependencies(()=>e(t.state)):typeof e=="string"?s=[e.split(".")]:Array.isArray(e)?s=[[...e]]:s=[],r!=="none"&&s.forEach(i=>{let n=t.peep(a=>y(a,i));O(n)&&i.push(r==="all"?"*":"value");}),s}o(ki,"getDepends");function en(e,t){if(!t||t.length===0)return  false;let r,s=e;for(let i=0;i<t.length;i++){let n=t[i],a=false;if($(s)){if(a=s.has(n),!a)return  false;r=ht(s,n);}else {if(a=n in s,!a)return  false;r=s[n];}s=r;}return  true}o(en,"pathIsExists");function x(e){return e?typeof e=="function":false}o(x,"isFunction");function _t(e,t){let{reserveAsync:r,includeFunc:s}=Object.assign({reserveAsync:false},t);if(Array.isArray(e)){let i=[...e];for(let n=0;n<i.length;n++)i[n]=_t(i[n],t);return i}else if(typeof e=="object"){if(!r&&O(e))return e.value;{let i={...e};for(let n in i)i[n]=_t(i[n],t);return i}}return s&&x(e)?`\`\`\`${e.toString()}\`\`\``:e}o(_t,"getSnapshot");function cn(e){return e==null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"}o(cn,"isPrimitive");function mn(e){globalThis.__AUTOSTORE_EXTENDS__&&(globalThis.__AUTOSTORE_EXTENDS__=[]),typeof e=="function"&&globalThis.__AUTOSTORE_EXTENDS__.push(e);}o(mn,"defineExtend");function xn(e,t,r){let s=W(t)?t():t;if(j(s)){if(s.options.objectify=false,Object.assign(s.options,r),s.type==="computed")return e.computedObjects.create(s);if(s.type==="watch")return e.watchObjects.create(s)}else if(typeof s=="function"){let n=F(s)();return n.options.objectify=false,Object.assign(n.options,r),e.computedObjects.create(n)}}o(xn,"createObserverObject");function Sn(e){return j(e)||W(e)}o(Sn,"isComputedDescriptorParameter");function Rn(e,t,r){let s=y(e,typeof t=="string"?t.split("."):t,r);return O(s)?s:{value:s,loading:false,retry:0,error:null,timeout:0,progress:0,run:o(()=>{},"run"),cancel:o(()=>{},"cancel")}}o(Rn,"getAsyncVal");function Dn(e,t){return O(e)?Object.assign({},e,t):Object.assign({value:e,loading:false,retry:0,progress:0,timeout:0,error:null,run:o(()=>{},"run"),cancel:o(()=>{},"cancel")},t)}o(Dn,"createAsyncComptuedValue");function Wn(e){try{return e[I]===!0}catch{}return  false}o(Wn,"isValueSchema");function Bn(e){let t=Array.isArray(e)?e[0]:e;return !!(t.startsWith("./")||t.startsWith("../")||["CURRENT","PARENT","SELF"].includes(t))}o(Bn,"isRelPath");function yt(e){return typeof e=="function"&&e[I]===true}o(yt,"isSchemaBuilder");var Yt="__WITH_SCHEMA_VALUE__";function Xt(e,t){return Object.assign({validate:"throw"},t,{[Yt]:true,value:e})}o(Xt,"withSchema");function je(e){return e&&typeof e=="object"&&e[Yt]===true}o(je,"isWithSchemaValue");function zt(e){return je(e)?[e.value,e]:[e,void 0]}o(zt,"getSchemaValue");var bt=class extends Map{static{o(this,"ComputedObjects");}store;constructor(t){super(),this.store=t;}get enable(){return this.store.options.enableComputed}set enable(t){this.store.options.enableComputed=t;}create(){let t=j(arguments[0])?arguments[0]:F(...arguments)();if(t.options.async&&!Ct(t.options.depends))throw new nt("The scope of the dynamic computed object must be the root state object or an absolute path");let r=t.options.scope;if(r===void 0||r==="ROOT")t.options.scope="ROOT";else if(!Ct([r]))throw new it("The scope of the dynamic computed object must be the root state object or an absolute path");return this.store._createComputed(t)}async runGroup(t,r,s){return await this.run(i=>i.group===t,r,s)}async run(){if(arguments.length===0)return Promise.all([...this.values()].map(n=>n.run()));let t;typeof arguments[0]=="function"?t=arguments[0]:typeof arguments[0]=="string"&&(t=o(n=>n.id===arguments[0],"filter"));let r=Object.assign({},arguments[1]),s=Object.assign({wait:false,timeout:0},arguments[2]),i={};return new Promise((n,a)=>{if(s.wait){let l;r.onDone=({id:f})=>{if(i[f]=true,Object.values(i).every(u=>u))return clearTimeout(l),true},s.timeout>0&&(l=setTimeout(()=>{a(new M);},s.timeout));}Promise.all([...this.values()].filter(l=>t(l)?(i[l.id]=false,true):false).map(l=>l.run(r))),s.wait||n();})}async enableGroup(t){for(let r of this.values())r.options.enable=t;}delete(t){return this.get(t)?.detach(),super.delete(t)}find(t){if(!t)return;let r=Array.isArray(t)?t:t.split(".");for(let s of this.values())if(T(s.path,r))return s}};function kt(e,t="info"){let r=typeof e=="function"?e():e instanceof Error?e.stack:e;try{console[t](`[AutoStore<${this.id}>]`,...Array.isArray(r)?r:[r]);}catch{}}o(kt,"log");function B(e,t,r="."){let s=[];try{return typeof t=="function"&&(t=t.call(e,e)),s=Array.isArray(t)?t:typeof t=="string"?t.split(r):[],s.length>0?y(e,s):e}catch{return e}}o(B,"getValueByPath");var G=(function(e){return e.Root="ROOT",e.Current="CURRENT",e.Parent="PARENT",e.Depends="DEPENDS",e.Self="SELF",e})({});function Te(e,t,r){let s=t===void 0?r:t;if(typeof s=="function")try{s=s.call(e.store,e);}catch{}return s===void 0?r===void 0?G.Current:r:s}o(Te,"getScopeOptions");function H(e,t,r,s){let i=e.store.state,n=e.store.options;if(typeof n.getRootScope=="function"){let c=n.getRootScope(e,{observerType:t,valuePath:r?.path});c!==void 0&&(i=c);}let{path:a,parentPath:l}=r||{},f=Te(e,s.scope,n.scope),u=i;try{f===G.Current?u=B(i,l):f===G.Parent?u=B(i,a.slice(0,a.length-2<0?0:a.length-2)):f===G.Root?u=i:f===G.Depends?u=e.depends?.map(c=>B(i,c)):typeof f=="string"?f.startsWith("@")?u=H(e,t,r,{...s,scope:H(e,t,{...r,path:f.slice(1).split(n.delimiter)},{...s,scope:f.slice(1)})}):u=B(i,k(e.path,f)):Array.isArray(f)&&(u=B(i,f));}catch(c){n.log(`Error while getting computed scope ${e.toString()}: ${c.message}`,"error");}return u}o(H,"getValueScope");var K=class{static{o(this,"ObserverObject");}descriptor;context;_path;_id="";_initial;_value;_associated=false;_attached=false;_getter;_depends=[];_options;_subscribers=[];_strPath;_error;store;_shadowStore;constructor(t,r,s){this.descriptor=r,this.context=s,this.store=t,this._associated=s!==void 0,this._getter=r.getter,this._options=Object.assign({enable:true,group:"",depends:[],throwError:true},r.options),this._id=this._options.id||(this._associated?U(s?.path):mt()),this._path=s?.path||[`#${this._id}`],this._path||(this._path=[`#${this._id}`]),this._initial=this._options.initial,this.onInitOptions(this._options),this._depends=N(this._path,this._options.depends),this._onObserverCreated(),this._onInitial();}get type(){return this.descriptor.type}get options(){return this._options}get id(){return this._id}get associated(){return this._associated}get async(){return this._options.async}get enable(){return this._options.enable}set enable(t){this._options.enable=t;}set group(t){this._options.group=t;}get group(){return this._options.group}get initial(){return this._initial}set initial(t){this._initial=t;}get path(){return this._path}get attached(){return this._attached}get depends(){return this._depends}set depends(t){this._depends=t;}get getter(){return this._getter}set getter(t){this._getter=t;}get strPath(){return this._strPath||(this._strPath=this._path.join(this.store.options.delimiter)),this._strPath}get error(){return this._error}set error(t){this._error=t;}toString(){return `ObserverObject<${this.strPath}>`}get value(){return this._associated?y(this.store.state,this._path):(this.store._notify({type:"get",path:this.path,value:this._value}),this._value)}set value(t){if(this._associated)C(this.store.state,this._path,t);else {let r=this._value;t!==r&&(this._value=t,this.store._notify({type:"set",path:this.path,value:t,oldValue:r}));}}_onObserverCreated(){typeof this.store.options.onObserverCreated=="function"&&this.store.options.onObserverCreated.call(this.store,this);}_onInitial(){this._options.initial!==void 0&&this.update(this._options.initial,{silent:true}),this.onInitial();}onInitial(){}onInitOptions(t){}update(t,r){this.store.update(()=>{this.value=t;},r);}silentUpdate(t){this.update(t,{silent:true});}watch(t,r){let s=this.store.watch(this.getValueWatchPath(),i=>{t.call(this,i);},r);return this._subscribers.push(s),s}getValueWatchPath(){return this.path.join(this.store.options.delimiter)}emitStoreEvent(t,r){setTimeout(()=>{this.store.emit(t,r);},0);}getDepends(){return this.depends}onDependsChange(t){}attach(){!this._attached&&this.depends&&this.depends.length>0&&(this._subscribers.push(this.store.watch(this.getDepends(),this.onDependsChange.bind(this),{operates:"write"})),this.store.log(()=>`${this.toString()} subscribed to ${this.depends.map(t=>t.join(this.store.options.delimiter)).join(",")}`),this._attached=true);}detach(){this._attached&&(this._subscribers.forEach(t=>{t.off();}),this._attached=false,this._subscribers=[],this.store.watchObjects.delete(this.id));}run(...t){}};var q=class extends K{static{o(this,"ComputedObject");}descriptor;context;constructor(t,r,s){super(t,r,s),this.descriptor=r,this.context=s,r.options.depends=N(this.path,this.options.depends);}toString(){return `ComputedObject<${U(this.path)}>`}get val(){return this.async?this.value.value:this.value}isDisable(t){return !this.store.options.enableComputed||!this.enable&&t!==true||t===false}run(t){throw new Error("Method not implemented.")}};var xt=class extends q{static{o(this,"SyncComputedObject");}get async(){return  false}onInitial(){this.collectDependencies();}run(t){let{first:r,operate:s}=Object.assign({first:false,operate:void 0},t);if(this.error=void 0,!r&&this.isDisable(t?.enable)){this.store.log(`Sync computed <${this.toString()}> is disabled`,"warn");return}!r&&this.store.log(()=>`Run sync computed for : ${this.toString()}`);let i=t?Object.assign({},this.options,t):this.options,n=H(this,"computed",this.context,i),a=i.initial;try{a=this.getter.call(this,n,{operate:s,first:r});}catch(l){this.error=l;}this.onDone(r,a,i);}onDone(t,r,s){let i=r;if(this.error&&x(s.onError)){let n=s.onError(this.error);n!==void 0&&(i=n);}t&&(this.initial=i),this.store.peep(()=>{this.value=i;}),this.error?!t&&this.emitStoreEvent("computed:error",{id:this.id,path:this.path,error:this.error,computedObject:this}):!t&&this.emitStoreEvent("computed:done",{id:this.id,path:this.path,value:i,computedObject:this});}collectDependencies(){let t=[],r=this.store.watch(s=>{t.push(s.path);},{operates:["get"]});this.run({first:true}),r.off(),Array.isArray(this.options.depends)&&this.options.depends.length>0&&t.push(...N(this.path,this.options.depends)),this.depends=gt(t),this.attach();}onDependsChange(t){this.run({operate:t});}};function Qt(e,t,r,s,i){return r==="push"?(...n)=>{let a=t.length,l=s.apply(t,n);if(t.length>a){let f=Array.from({length:t.length-a},(u,c)=>c+a);e({type:"insert",path:i,indexs:f,value:n,oldValue:void 0,parentPath:i,parent:t});}return l}:r==="pop"?()=>{let n=t.length,a=s.apply(t);return t.length===n-1&&e({type:"remove",path:i,indexs:[n-1],value:[a],oldValue:void 0,parentPath:i,parent:t}),a}:r==="splice"?(n,a,...l)=>{let f=s.apply(t,[n,a,...l]);if(f.length>0){let u=Array.from({length:f.length},(c,p)=>n+p);e({type:"remove",path:i,indexs:u,value:f,oldValue:void 0,parentPath:i,parent:t});}if(l.length>0){let u=Array.from({length:l.length},(c,p)=>n+p);e({type:"insert",path:i,indexs:u,value:l,oldValue:void 0,parentPath:i,parent:t});}return f}:r==="unshift"?(...n)=>{let a=t.length,l=s.apply(t,n);if(t.length>a){let f=Array.from({length:t.length-a},(u,c)=>c);e({type:"insert",path:i,indexs:f,value:n,oldValue:void 0,parentPath:i,parent:t});}return l}:r==="shift"?()=>{let n=t.length,a=s.apply(t);return t.length===n-1&&e({type:"remove",path:i,indexs:[0],value:[a],oldValue:void 0,parentPath:i,parent:t}),a}:r==="fill"?(n,a,l)=>{let f=s.apply(t,[n,a,l]),u=a??0,c=l??t.length,p=Array.from({length:c-u},(d,b)=>b+u),h=Array.from({length:c-u},()=>n);return e({type:"update",path:i,indexs:p,value:h,oldValue:void 0,parentPath:i,parent:t}),f}:r==="concat"?(...n)=>{let a=t.length,l=s.apply(t,n),f=Array.from({length:n.length},(u,c)=>a+c);return e({type:"insert",path:i,indexs:f,value:n,oldValue:void 0,parentPath:i,parent:t}),l}:s}o(Qt,"hookArrayMethods");function Jt(e){return typeof e=="number"||typeof e=="string"&&!Number.isNaN(parseInt(e))}o(Jt,"isNumber");var Rt=Symbol("__NOTIFY__");function Ve(e){if(this.options.validators){let t=e.join(this.options.delimiter||".");if(this.options.validators[t])return this.options.validators[t];let r=Object.keys(this.options.validators);for(let s of r)if(Ht(e,s))return this.options.validators[s]}return this.options.onValidate}o(Ve,"getValidate");function Ce(e,t,r,s,i){let n=i?.validate||this._updateValidateBehavior;if(n==="none")return  true;let a=Ve.call(this,t);if(typeof a!="function")return  true;let l=true,f,u=t.join(this.options.delimiter||"."),c=this.options.configKey?`${this.options.configKey}.${u}`:u;try{if(a.call(this,r,s,t)===!1)throw new ot;this.options.configManager&&delete this.options.configManager.errors[c],this.errors&&delete this.errors[c];}catch(p){f=p;let h=this.options?.configManager?.errors||this.errors;h[c]=a.getErrorMessage?.(p)||p.message||p.stack;let d=n||p.behavior||a.onInvalid||this.options.onInvalid||"throw";if(d==="pass")l=true;else if(d==="ignore")l=false;else if(d==="throw-pass")l=p;else throw l=false,p}finally{this.emit("validate",{path:t,newValue:r,oldValue:s,error:f});}return l}o(Ce,"isValidPass");function Zt(e,t,r,s,i){if(z(e)||typeof e!="object"||e===null)return e;if(r.has(e))return r.get(e);let n=new Proxy(e,{get:o((a,l,f)=>{let u=Reflect.get(a,l,f);if(typeof l!="string")return u;let c=[...t,String(l)];if(typeof u=="function"||!Object.hasOwn(a,l))if(typeof u=="function"){if(Array.isArray(a)&&!Jt(l))return Qt(i.notify,a,l,u,t);if(!z(u)&&Object.hasOwn(a,l)){if(typeof this.options.onObserverInitial=="function")try{if(this.options.onObserverInitial.call(this,c,u,a)===!1)return V(u),u}catch(h){this.log(`onObserverBeforeCreate error: ${h.message}`,"error");}let p=c.join(".");try{if(s.has(p)){let d=[...s.keys(),p];throw s.clear(),new rt(`Find circular dependency at <"${c}">, steps: ${d.join(" -> ")}`)}s.set(p,!0);let h=i.createObserverObject(c,u,t,a);return typeof h!="function"&&Reflect.set(a,l,h,f),h}finally{s.delete(p);}}else return u}else return u;return i.notify({type:"get",path:c,indexs:[],value:u,oldValue:void 0,parentPath:t,parent:a}),Zt.call(this,u,c,r,s,i)},"get"),set:o((a,l,f,u)=>{let c=Reflect.get(a,l,u),p=[...t,String(l)],[h,d]=zt(f),b=Ce.call(this,n,p,h,c,d);if(b){let v=Reflect.set(a,l,h,u);if(l===Rt)return  true;let A=p.join(this.options.delimiter||"."),tt=this.options.configKey?`${this.options.configKey}.${A}`:A;if(v&&this.configManager&&this.configurabled.has(A)&&setTimeout(()=>{this.configManager?.onUpdate(this,tt,h);},0),v&&!d?.slient&&l!==Rt&&h!==c&&i.notify({type:Array.isArray(a)?"update":"set",path:p,indexs:[],value:h,oldValue:c,parentPath:t,parent:a}),b instanceof Error)throw b;return v}else return  true},"set"),deleteProperty:o((a,l)=>{let f=a[l],u=[...t,String(l)],c=Reflect.deleteProperty(a,l);return c&&l!==Rt&&i.notify({type:"delete",path:u,indexs:[],value:f,oldValue:void 0,parentPath:t,parent:a}),c},"deleteProperty")});return r.set(e,n),n}o(Zt,"createProxy");function te(e,t){let r=new Map,s=new WeakMap;return Zt.call(this,e,[],s,r,t)}o(te,"createReactiveObject");async function Lt(e){return new Promise((t,r)=>setTimeout(t,e))}o(Lt,"t");function ee(e){return e instanceof Error?e:new Error(e)}o(ee,"getError");var Et=class extends q{static{o(this,"AsyncComputedObject");}_isRunning=false;_defaultAbortController=null;_userAbortController;_firstRun=false;get async(){return  true}get value(){return super.value}set value(t){super.value=t;}get running(){return this._isRunning}onInitOptions(t){t.reentry===void 0&&(t.reentry=this.store.options.reentry);}onInitial(){this.initial=this.createAsyncComputedValue(),this.attach(),setTimeout(()=>{(this.options.immediate===true||this.options.immediate==="auto"&&this.options.initial===void 0)&&this.run({first:true});},0);}createAsyncComputedValue(){return Object.assign({[lt]:true,loading:false,timeout:0,retry:0,error:null,value:this.options.initial,progress:0,run:V(t=>this.store.computedObjects.run(this.id,Object.assign({},t))),cancel:V(()=>{this.getAbortController().abort();})})}updateComputedValue(t){let r=this.strPath,s=Object.keys(t).length;if(this.associated)this.store.update(i=>{qt(i,this.path,t);},{batch:s>1?r:false});else {Object.assign(this.value,t);let i=s>1,n=[];Object.entries(t).forEach(([a,l])=>{let f={type:"set",path:[...this.path,a],value:l,parent:this.value};i&&(f.reply=true),this.store.operates.emit(`${this.strPath}.${a}`,f),n.push(f);}),i&&this.store.operates.emit(this.strPath,{type:"batch",path:this.path,value:n});}}async run(t){let{first:r}=t??{};if(this.isDisable(t?.enable)){this.store.log(()=>`Async computed <${this.toString()}> is disabled`,"warn");return}this.error=void 0,this._firstRun=true,!r&&this.store.log(()=>`Run async computed for : ${this.toString()}`);let s=t?Object.assign({first:r},this.options,t):this.options,i=H(this,"computed",this.context,s),{reentry:n}=s;if(this._isRunning&&!n){this.store.log(()=>`Async computed: ${this.toString()} is running, can't reentry`,"warn"),this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,reason:"reentry",computedObject:this});return}this._isRunning=true;try{return await this.executeGetter(i,s)}finally{this._isRunning=false;}}createComputeProgressbar(t){let{max:r=100,min:s=0,value:i=0}=Object.assign({},t);return this.updateComputedValue({progress:i}),{value:o(n=>{n>r&&(n=r),n<s&&(n=s),this.updateComputedValue({progress:n});},"value"),end(){this.value(r);}}}getAbortController(t){if(t&&typeof t.abortController=="function"){let r=t.abortController();r&&r instanceof AbortController&&(this._userAbortController=r);}return this._userAbortController?this._userAbortController:(this._defaultAbortController||(this._defaultAbortController=new AbortController),this._defaultAbortController.signal.aborted&&(this._defaultAbortController=new AbortController),this._defaultAbortController)}setTimeoutControl(t,r,s){let{timeout:i}=s,[n=0,a=0]=Array.isArray(i)?i:[i,0],l,f;return n>0&&(r.timeout=a>1?a:n,f=setTimeout(()=>{t.hasTimeout=true,t.hasError=true,t.error="TIMEOUT",typeof t.timeoutCallback=="function"&&t.timeoutCallback(),clearInterval(l),this.updateComputedValue({loading:false,error:"TIMEOUT",timeout:0});},n),a>1&&(l=setInterval(()=>{this.updateComputedValue({timeout:a--}),a===0&&clearInterval(l);},n/(a+1)))),{clear:o(()=>{clearTimeout(f),clearInterval(l);},"clear"),enable:n>0}}async executeGetter(t,r){let{retry:s=[0,0]}=r,[i,n]=Array.isArray(s)?s:[Number(s),0],a,l=this.getAbortController(r),f={onTimeout:o(d=>{a=d;},"onTimeout"),getProgressbar:this.createComputeProgressbar.bind(this),getSnap:o(d=>d,"getSnap"),cancel:l.abort,extras:r.extras,operate:r.operate,first:r.first,abortSignal:l.signal},u={error:null,hasError:false,hasTimeout:false,hasAbort:false,timeoutCallback:a},c=o(()=>{u.hasAbort=true;},"abortHandler");l.signal.addEventListener("abort",c);let p={clear:o(()=>{},"clear"),enable:false},h;try{let d=o(b=>Object.assign(u,b),"updateCtx");for(let b=0;b<i+1;b++){let v={};try{let A={loading:!0};if(u.hasError&&(A.error=null),i>0&&(A.retry=b>0?i-b+1:0),b>0&&d({error:null,hasError:!1,hasTimeout:!1}),p=this.setTimeoutControl(u,A,r),this.updateComputedValue(A),u.hasAbort)throw new Y;if(h=await this.getter.call(this,t,f),u.hasAbort)throw new Y;u.hasTimeout||(v.value=h,p.enable&&(v.timeout=0));}catch(A){if(u.hasError=!0,u.error=A,u.hasTimeout||(v.error=ee(A).message),x(r.onError)){let tt=r.onError(A);tt!==void 0&&(v.value=tt);}}finally{p.clear(),b===i&&(u.hasTimeout&&(v.error=u.error),i>0&&(v.retry=0)),v.loading=!1,this.updateComputedValue(v);}u.hasError&&i>0&&n>0&&b<i&&await Lt(n);}u.hasAbort?this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,reason:"abort",computedObject:this}):u.hasError||u.hasTimeout?(this.error=u.error,this.emitStoreEvent("computed:error",{path:this.path,id:this.id,error:u.error,computedObject:this})):this.emitStoreEvent("computed:done",{path:this.path,id:this.id,value:h,computedObject:this}),this.onDoneCallback(r,u.error,u.hasAbort,u.hasTimeout,t,h);}finally{l.signal.removeEventListener("abort",c);}}onDoneCallback(t,r,s,i,n,a){typeof t.onDone=="function"&&t.onDone.call(this,{id:this.id,path:this.path,value:a,error:r,abort:s,timeout:i,scope:n});}onDependsChange(t){this.store.log(()=>`AsyncComputed<${this.id}> is running by depends ${t.type}/${t.path.join(".")} operate `),this.run({operate:t,first:!this._firstRun});}getValueWatchPath(){let t=this.path.join(this.store.options.delimiter);return [`${t}.*`,t]}getDepends(){return super.getDepends().map(r=>{if(r.length===0)return r;for(let s of this.store.computedObjects.values())if(T(s.path,r)&&s.async)return [`${r}.value`];return r})}};function vt(){let e=arguments[0],t=typeof arguments[1]=="function"?arguments[1]:()=>true,r=typeof arguments[1]=="object"?arguments[1]:arguments[2],s=Object.assign({depends:[],enable:true,objectify:true,filter:t},r),i=o(()=>({type:"watch",getter:e,options:s}),"descriptorBuilder");return i[D]=true,i}o(vt,"watch");var At=class extends Map{static{o(this,"WatchObjects");}store;_watcher={off:o(()=>{},"off")};_enable=true;constructor(t){super(),this.store=t;}get enable(){return this._enable}set enable(t){this._enable=t;}set(t,r){return super.size===0&&this.createWacher(),super.set(t,r)}createWacher(){this._watcher=this.store.watch("**",({path:t,value:r})=>{if(!this._enable)return;let s=t[0].startsWith("#")?r:y(this.store.state,t);for(let i of this.values())i.isMatched(t,s)&&i.run(t,s);});}reset(){this._watcher&&this._watcher.off();for(let t of this.values())t.reset();this.createWacher();}create(){let t=j(arguments[0])?arguments[0]:vt(...arguments)();return this.store._createWatch(t)}enableGroup(t,r=true){for(let s of this.values())s.options.group===t&&(s.options.enable=r);}};var Ot=class extends K{static{o(this,"WatchObject");}store;context;_cache;constructor(t,r,s){if(super(t,r,s),this.store=t,this.context=s,typeof this.options.filter!="function")throw new Error("watch options.filter must be a function")}get filter(){return this.options.filter}get cache(){return this._cache||(this._cache={}),this._cache}toString(){return `WatchObject<${this.id}>`}onInitial(){}isMatched(t,r){return ct(t,this.path)?false:this.filter(t,r)}reset(){this._cache={},this.value=this.initial;}run(t,r){if(!this.enable){this.store.log(`WatchObject <${this.toString()}> is disabled`);return}try{let s=this.getter?.call(this,{path:t,value:r},this);this.value=s,this.emitStoreEvent("watch:done",{value:s,watchObject:this});}catch(s){this.emitStoreEvent("watch:error",{error:s,watchObject:this});}}};function re(e){let t;return W(e)?t=e():typeof e=="function"&&(t={type:"computed",getter:e,options:Object.assign({},ft(),{async:ut(e)})}),t}o(re,"getObserverDescriptor");function Pt(e,t){if(t==="*")return  true;if(t==="write"){if(e.type==="get")return}else if(t==="read"){if(e.type!=="get")return}else if(Array.isArray(t)&&t.length>0&&!t.includes(e.type))return;return  true}o(Pt,"isMatchOperates");var ie=Object.defineProperty,Re=o((e,t,r)=>t in e?ie(e,t,{enumerable:true,configurable:true,writable:true,value:r}):e[t]=r,"z"),m=o((e,t)=>ie(e,"name",{value:t,configurable:true}),"f"),E=o((e,t,r)=>Re(e,typeof t!="symbol"?t+"":t,r),"h");var ne=class extends Error{static{o(this,"S");}constructor(t){super(t);}};m(ne,"FastEventError");var J=ne,Le=class extends J{static{o(this,"A");}};m(Le,"TimeoutError");var oe=class extends J{static{o(this,"M");}};m(oe,"UnboundError");var Pe=oe,ae=class extends J{static{o(this,"w");}};m(ae,"AbortError");var se=ae,le=class extends J{static{o(this,"F");}};m(le,"CancelError");var Me=le,De=class extends J{static{o(this,"j");}};m(De,"QueueOverflowError");var ue={clearRetain:Symbol.for("ClearRetain")},Q=(function(e){return e[e.Transformed=1]="Transformed",e})({});function Dt(e,t,r,s){let i,n={},a={};return typeof e[0]=="object"?(Object.assign(a,e[0]),n=typeof e[1]=="boolean"?{retain:e[1]}:e[1]||{},i=e[0].meta):(a.type=e[0],a.payload=e[1],n=typeof e[2]=="boolean"?{retain:e[2]}:e[2]||{}),i=Object.assign({},t,r,n.meta,i),Object.keys(i).length===0&&(i=void 0),a.meta=i,n.executor===void 0&&(n.executor=s),[a,n]}o(Dt,"L");m(Dt,"parseEmitArgs");function fe(e){return e?typeof e=="object"&&"__FastEventScope__"in e:false}o(fe,"D");m(fe,"isFastEventScope");function It(e,t,r){let s=e[0],i=fe(e[1])?e[1]:void 0,n=(i?e[2]:e[1])||{};return n.meta=Object.assign({},t,n?.meta),n.context=n.context!==void 0?n.context:r,[s,i,n]}o(It,"E");m(It,"parseScopeArgs");function St(e,t){return Object.defineProperty(e,"name",{value:t||"anonymous",configurable:true}),e}o(St,"g");m(St,"renameFn");function _(e){return e&&typeof e=="function"}o(_,"u");m(_,"isFunction");var ce=class pe{static{o(this,"T");}constructor(t){E(this,"__FastEventScope__",true),E(this,"_options",{}),E(this,"types",{events:void 0,meta:void 0,context:void 0,message:void 0,listeners:void 0,anyListener:void 0}),E(this,"prefix",""),E(this,"emitter"),this._options=Object.assign({},this._initOptions(t));}get context(){return this.options.context||this}get options(){return this._options}get listeners(){return this.emitter.getListeners(this.prefix)}bind(t,r,s){this.emitter=t,this._options=Object.assign(this._options,{scope:r},s),r.length>0&&!r.endsWith(t.options.delimiter)&&(this.prefix=r+t.options.delimiter);}_initOptions(t){return t}_getScopeListener(t){let r=this.prefix;if(r.length===0)return t;t||(t=(this._options.onMessage||this.onMessage).bind(this));let s=this;return St(function(i,n){let a=n.rawEventType||i.type;if(a.startsWith(r)){let l=((n.flags||0)&Q.Transformed)>0?i:Object.assign({},i,{type:a.substring(r.length)});return t.call(s.context,l,n)}},t.name)}_getScopeType(t){return t===void 0?void 0:this.prefix+t}_fixScopeType(t){return t.startsWith(this.prefix)?t.substring(this.prefix.length):t}on(){if(!this.emitter)throw new Pe;let t=[...arguments];return t[0]=this._getScopeType(t[0]),t[1]=this._getScopeListener(t[1]),this.emitter.on(...t)}once(){return this.on(arguments[0],arguments[1],Object.assign({},arguments[2],{count:1}))}onAny(){return this.on("**",...arguments)}off(){let t=arguments;typeof t[0]=="string"&&(t[0]=this._getScopeType(t[0])),this.emitter.off(...t);}offAll(){this.emitter.offAll(this.prefix.substring(0,this.prefix.length-1));}clear(){this.emitter.clear(this.prefix.substring(0,this.prefix.length-1));}emit(){if(arguments.length===2&&typeof arguments[0]=="string"&&arguments[1]===ue.clearRetain)return this.emitter.emit(this._getScopeType(arguments[0]));let[t,r]=Dt(arguments,this.emitter.options.meta,this.options.meta,this.options.executor);return this._transformMessage(t,r),t.type=this._getScopeType(t.type),this.emitter.emit(t,r)}_transformMessage(t,r){_(this._options.transform)&&(r.rawEventType=this._getScopeType(t.type),r.flags=(r.flags||0)|Q.Transformed,t.payload=this._options.transform.call(this,t));}async emitAsync(){return (await Promise.allSettled(this.emit.apply(this,arguments))).map(t=>t.status==="fulfilled"?t.value:t.reason)}async waitFor(){let t=arguments[0],r=arguments[1],s=await this.emitter.waitFor(this._getScopeType(t),r);return Object.assign({},s,{type:this._fixScopeType(s.type)})}scope(){let[t,r,s]=It(arguments,this.options.meta,this.options.context),i;return r?i=r:i=new pe,i.bind(this.emitter,this.prefix+t,s),i}onMessage(t,r){}};m(ce,"FastEventScope");var Ie=ce;function Mt(e,t){if(e.length!==t.length&&e.length>0&&t[t.length-1]!=="**")return  false;let r=[...t];t.length>0&&t[t.length-1]==="**"&&r.splice(t.length-1,1,...Array.from({length:e.length-t.length+1}).fill("*"));for(let s=0;s<e.length;s++)if(r[s]!=="*"&&r[s]!==e[s])return  false;return  true}o(Mt,"O");m(Mt,"isPathMatched");function he(e,t){let r=[];for(;;){let s=e.findIndex(i=>t(i));if(s===-1){r.push(s);break}e.splice(s,1);}return r}o(he,"N");m(he,"removeItem");var me=Symbol.for("__expandable__");function Fe(e){return e[me]=true,e}o(Fe,"Tt");m(Fe,"expandable");function de(e){return e&&e[me]}o(de,"I");m(de,"isExpandable");function ge(e){for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)&&de(r)&&(e.splice(t,1,...r),t+=r.length-1);}return e}o(ge,"B");m(ge,"expandEmitResults");function _e(e){return e&&typeof e=="object"&&"off"in e&&"listener"in e}o(_e,"X");m(_e,"isSubsctiber");function ye(e,t){return e.catch(r=>(t&&t(r),Promise.resolve(r)))}o(ye,"$");m(ye,"tryReturnError");var be=class{static{o(this,"P");}constructor(t){E(this,"__FastEvent__",true),E(this,"listeners",{__listeners:[]}),E(this,"_options"),E(this,"_delimiter","/"),E(this,"_context"),E(this,"retainedMessages",new Map),E(this,"listenerCount",0),E(this,"types",{events:void 0,meta:void 0,context:void 0,message:void 0,listeners:void 0,anyListener:void 0}),this._options=Object.assign({debug:false,id:Math.random().toString(36).substring(2),delimiter:"/",context:null,ignoreErrors:true,meta:void 0,expandEmitResults:true},this._initOptions(t)),this._delimiter=this._options.delimiter,this._context=this._options.context,this._enableDevTools();}get options(){return this._options}get context(){return this.options.context||this}get meta(){return this.options.meta}get id(){return this._options.id}_initOptions(t){return t}_addListener(t,r,s){let{count:i,prepend:n}=s,a=0;return [this._forEachNodes(t,l=>{let f=[r,i,0,s.tag,s.flags];n?(l.__listeners.splice(0,0,f),a=0):(l.__listeners.push(f),a=l.__listeners.length-1),this.listenerCount++;}),a]}_enableDevTools(){this.options.debug&&globalThis.__FLEXEVENT_DEVTOOLS__&&globalThis.__FLEXEVENT_DEVTOOLS__.add(this);}_forEachNodes(t,r){if(t.length===0)return;let s=this.listeners;for(let i=0;i<t.length;i++){let n=t[i];if(n in s||(s[n]={__listeners:[]}),i===t.length-1){let a=s[n];return r(a,s),a}else s=s[n];}}_removeListener(t,r,s){s&&he(t.__listeners,i=>{i=Array.isArray(i)?i[0]:i;let n=i===s;return n&&(this.listenerCount--,_(this._options.onRemoveListener)&&this._options.onRemoveListener(r.join(this._delimiter),s)),n});}_pipeListener(t,r){return r.forEach(s=>{t=St(s(t),t.name);}),t}on(){let t=arguments[0],r=_(arguments[1])?arguments[1]:(this._options.onMessage||this.onMessage).bind(this),s=Object.assign({count:0,flags:0,prepend:false},_(arguments[1])?arguments[2]:arguments[1]);if(t.length===0)throw new Error("event type cannot be empty");if(_(this._options.onAddListener)){let f=this._options.onAddListener(t,r,s);if(f===false)throw new Me;if(_e(f))return f}let i=t.split(this._delimiter);if(s.pipes&&s.pipes.length>0&&(r=this._pipeListener(r,s.pipes)),_(s.filter)||_(s.off)){let f=r;r=St(function(u,c){if(_(s.off)&&s.off.call(this,u,c)){l();return}if(_(s.filter)){if(s.filter.call(this,u,c))return f.call(this,u,c)}else return f.call(this,u,c)},r.name);}let[n,a]=this._addListener(i,r,s),l=m(()=>n&&this._removeListener(n,i,r),"off");return this._emitRetainMessage(t,n,a),{off:l,listener:r}}once(){return _(arguments[1])?this.on(arguments[0],arguments[1],Object.assign({},arguments[2],{count:1})):this.on(arguments[0],Object.assign({},arguments[2],{count:1}))}onAny(){return this.on("**",arguments[0],arguments[1])}onMessage(t,r){}off(){let t=arguments,r=_(t[0])?void 0:t[0],s=_(t[0])?t[0]:t[1],i=r?r.split(this._delimiter):[],n=r?r.includes("*"):false;if(r&&!n)this._traverseToPath(this.listeners,i,a=>{s?this._removeListener(a,i,s):r&&(a.__listeners=[]);});else {let a=n?[]:i;this._traverseListeners(this.listeners,a,(l,f)=>{(s!==void 0||n&&Mt(l,i))&&(s?this._removeListener(f,i,s):f.__listeners=[]);});}}offAll(t){if(t){let r=t.split(this._delimiter),s=0;this._traverseListeners(this.listeners,r,(i,n)=>{s+=n.__listeners.length,n.__listeners=[];}),this.listenerCount-=s,this._removeRetainedEvents(t);}else {let r=0;this._traverseListeners(this.listeners,[],(s,i)=>{r+=i.__listeners.length;}),this.listenerCount-=r,this.retainedMessages.clear(),this.listeners={__listeners:[]};}_(this._options.onClearListeners)&&this._options.onClearListeners.call(this);}_removeRetainedEvents(t){t||this.retainedMessages.clear(),t?.endsWith(this._delimiter)&&(t+=this._delimiter),this.retainedMessages.delete(t);for(let r of this.retainedMessages.keys())r.startsWith(t)&&this.retainedMessages.delete(r);}clear(t){this.offAll(t),this._removeRetainedEvents(t);}_emitRetainMessage(t,r,s){let i=[];if(t.includes("*")){let n=t.split(this._delimiter);this.retainedMessages.forEach((a,l)=>{let f=l.split(this._delimiter);Mt(f,n)&&i.push(a);});}else this.retainedMessages.has(t)&&i.push(this.retainedMessages.get(t));r&&i.forEach(n=>{this._executeListeners([r],n,{},a=>a[0]===r.__listeners[s][0]);});}_traverseToPath(t,r,s,i=0,n){if(i>=r.length){s(t);return}let a=r[i];if(n===true){this._traverseToPath(t,r,s,i+1,true);return}"*"in t&&this._traverseToPath(t["*"],r,s,i+1),"**"in t&&this._traverseToPath(t["**"],r,s,i+1,true),a in t&&this._traverseToPath(t[a],r,s,i+1);}_traverseListeners(t,r,s){let i=t;r&&r.length>0&&this._traverseToPath(t,r,a=>{i=a;});let n=m((a,l,f)=>{l(f,a);for(let[u,c]of Object.entries(a))u.startsWith("__")||c&&n(c,l,[...f,u]);},"traverseNodes");n(i,s,[]);}_onListenerError(t,r,s,i){if(i instanceof Error&&(i._emitter=`${t.name||"anonymous"}:${r.type}`),_(this._options.onListenerError))try{this._options.onListenerError.call(this,i,t,r,s);}catch{}if(this._options.ignoreErrors)return i;throw i}_setListenerFlags(t,r){return !t||t===0?r:t|r}_executeListener(t,r,s,i=false){try{if(s&&s.abortSignal&&s.abortSignal.aborted)return this._onListenerError(t,r,s,new se(t.name));let n=((s?.flags||0)&Q.Transformed)>0,a=t.call(this.context,n?r.payload:r,s);return i&&a&&a instanceof Promise&&(a=ye(a,l=>this._onListenerError(t,r,s,l))),a}catch(n){return this._onListenerError(t,r,s,n)}}_getListenerExecutor(t){if(!t)return;let r=t.executor||this._options.executor;if(_(r))return r}_executeListeners(t,r,s,i){if(!t||t.length===0)return [];let n=t.reduce((l,f)=>l.concat(f.__listeners.filter(u=>_(i)?i(u,f):true).map((u,c)=>[u,c,f.__listeners])),[]);_(this._options.transform)&&(s||(s={}),s.rawEventType=r.type,r.payload=this._options.transform.call(this,r),s.flags=this._setListenerFlags(s.flags,Q.Transformed)),this._decListenerExecCount(n);let a=this._getListenerExecutor(s);if(a){let l=a(n.map(f=>f[0]),r,s,this._executeListener.bind(this));return Array.isArray(l)?l:[l]}else return n.map(l=>this._executeListener(l[0][0],r,s,true))}_decListenerExecCount(t){for(let r=t.length-1;r>=0;r--){let s=t[r][0];s[2]++,s[1]>0&&s[1]<=s[2]&&t[r][2].splice(r,1);}}getListeners(t){let r=[],s=t.split(this._delimiter);return this._traverseToPath(this.listeners,s,i=>{r.push(i);}),r[0].__listeners}emit(){if(arguments.length===2&&typeof arguments[0]=="string"&&arguments[1]===ue.clearRetain)return this.retainedMessages.delete(arguments[0]),[];let[t,r]=Dt(arguments,this.options.meta);_(r.parseArgs)&&r.parseArgs(t,r);let s=t.type.split(this._delimiter);r.retain&&this.retainedMessages.set(t.type,t);let i=[],n=[];if(this._traverseToPath(this.listeners,s,a=>{n.push(a);}),_(this._options.onBeforeExecuteListener)){let a=this._options.onBeforeExecuteListener.call(this,t,r);if(Array.isArray(a))return a;if(a===false)throw new se(t.type)}return _(this._options.transform)&&(t.payload=this._options.transform.call(this,t),r.rawEventType=t.type,r.flags=(r.flags||0)|Q.Transformed),i.push(...this._executeListeners(n,t,r)),_(this._options.onAfterExecuteListener)&&this._options.onAfterExecuteListener.call(this,t,i,n),this._options.expandEmitResults&&ge(i),i}async emitAsync(){return (await Promise.allSettled(this.emit.apply(this,arguments))).map(t=>t.status==="fulfilled"?t.value:t.reason)}waitFor(){let t=arguments[0],r=arguments[1];return new Promise((s,i)=>{let n,a,l=m(f=>{clearTimeout(n),a&&a.off(),s(f);},"listener");r&&r>0&&(n=setTimeout(()=>{a&&a.off(),i(new Error("wait for event<"+t+"> is timeout"));},r)),a=this.on(t,l);})}scope(){let[t,r,s]=It(arguments,this.options.meta,this.options.context),i;return r?i=r:i=new Ie,i.bind(this,t,s),i}};m(be,"FastEvent");var Ft=be;function $e(e){return e?typeof e=="object"&&"type"in e:false}o($e,"Kt");m($e,"isFastEventMessage");function We(e){return e&&typeof e=="string"}o(We,"kt");m(We,"isString");function Ue(e){return typeof e=="function"&&(e.toString().startsWith("class ")||e.prototype?.constructor===e)}o(Ue,"te");m(Ue,"isClass");function Ne(e){return e?typeof e=="object"&&"__FastEvent__"in e:false}o(Ne,"ie");m(Ne,"isFastEvent");function xe(e,t){let r=Object.keys(e),s=Object.values(e),i=t?.disabledGlobals||["alert","window","document"];if(i&&i.length>0){let n=new Set(r),a=i.filter(l=>!n.has(l));a.length>0&&(r.push(...a),s.push(...new Array(a.length).fill(void 0)));}return n=>{try{return new Function(...r,`return ${n}`)(...s)}catch(a){if(t?.onError){let l=t.onError(a,n);if(l!==void 0)return l}throw a}}}o(xe,"createSandbox");function Be(e){pt(e)&&dt(e,({value:t,key:r,parent:s})=>{x(t)&&(r.startsWith("on")||r.startsWith("render")||r.startsWith("to"))&&(s[r]=V(t));});}o(Be,"markRawSchema");function Ge(e){let t={value:e[0],schema:Object.assign({onInvalid:void 0},e[1])};return Be(t.schema),t}o(Ge,"parseSchemaArgs");function wt(e,t){let r=Ge([e,t]),s=e;typeof s=="object"&&V(s),r.schema.datatype=Array.isArray(s)?"array":typeof s;let i=o(()=>({value:s,schema:r.schema}),"builder");return i[I]=true,i}o(wt,"schema");var Ee=wt;function L(e,t){return o(function(s,i){let n=Object.assign({},i);return typeof n.onValidate!="function"&&(n.onValidate=e),n.invalidTips||(n.invalidTips=t),wt(s,n)},"typeSchema")}o(L,"createTypeSchemaBuilder");var He={number:L(e=>typeof e=="number","must be a number"),string:L(e=>typeof e=="string","must be a string"),boolean:L(e=>typeof e=="boolean","must be a boolean"),date:L(e=>e instanceof Date,"must be a date"),bigint:L(e=>typeof e=="bigint","must be a bigint"),array:L(e=>Array.isArray(e),"must be an array"),object:L(e=>typeof e=="object","must be an object")},Ml=He;var Z=class extends jt{static{o(this,"ConfigManager");}source;dirtyValues={};_reseting=false;constructor(t,r){let s=Object.assign({global:false},r);if(super({},s),this.source=t,s.global!==false){let i=s.global===true?X:s.global;globalThis[i]=this;}}get fields(){return this.state}get size(){return Object.keys(this.fields).length}async load(){let t=await this.source.load();this.update(r=>{Object.entries(t).forEach(([s,i])=>{let n=r[s];n?n.value=i:r[s]={value:i};});},{silent:true});}async save(t){let r=t?this._getValues():this.dirtyValues;Object.keys(r).length>0&&(await this.source.save?.(r),this.dirtyValues={});}_getValues(){return Object.entries(this.state).reduce((t,[r,s])=>(t[r]=s.value,t),{})}reset(){if(!this._reseting)try{this._reseting=!0,this.dirtyValues={},Object.values(this.state).forEach(t=>{try{let r=t.schema.default;r!==void 0&&(t.value=Xt(r,{slient:!0,validate:"none"}));}catch{}});}finally{this._reseting=false;}}onUpdate(t,r,s){this.dirtyValues[r]=s,this.source.save?.(this.dirtyValues),this.dirtyValues={};}add(t,r,s){this.operates.options.delimiter=t.options.delimiter;let i=yt(s)?s():s,n=Array.isArray(r)?r:r.split(t.options.delimiter),a=n.join(t.options.delimiter),l=[...n];t.options.configKey&&l.splice(0,0,t.options.configKey);let f=i.value;if(i.schema.default===void 0&&(i.schema.default=f),t.options.defaultSchema&&Object.keys(t.options.defaultSchema).forEach(u=>{let c=t.options.defaultSchema[u];i.schema[u]===void 0&&(i.schema[u]=c);}),i.schema.onInvalid===void 0&&(i.schema.onInvalid="throw"),x(i.schema.onValidate)){i.schema.onValidate.getErrorMessage=c=>{let p=i.schema.invalidTips;return typeof p=="string"?p.params(i.schema).params({error:c.message,stack:c.stack}):c.message};let u=i.schema.onInvalid;u!==void 0&&(i.schema.onValidate.onInvalid=u),t.options.validators||(t.options.validators={}),t.options.validators[a]=i.schema.onValidate;}else t.options.validators&&delete t.options.validators[a];return this._createValueProxy(i,t,n),this.update(u=>{C(u,[l.join(".")],i);},{silent:true}),f}_createValueProxy(t,r,s){let i=new WeakRef(r);return Object.defineProperty(t,"value",{get(){let n=i.deref();if(n)return y(n.state,s)},set(n){i.deref()?.update(l=>{C(l,s,n);});}})}getConfigValue(t){return this.peep(r=>y(r,[...t,"value"]))}};function ve(e){return pt(e)&&"load"in e}o(ve,"isConfigSource");var jt=class extends Ft{static{o(this,"AutoStore");}_data;_errors;computedObjects;watchObjects;_operates=new Ft({delimiter:".",transform:o(t=>t.payload,"transform")});_silenting=false;_batching=false;_batchOperates=[];_updateFlags=0;_peeping=false;_safeEval;_updateValidateBehavior;_updatedState;_updatedWatcher;_configurabled;constructor(t,r){super(Object.assign({id:mt(),debug:false,enableComputed:true,reentry:true,resetable:false,delimiter:".",lazy:false,enableValueExpr:true,log:kt},r,{delimiter:".",transform:o(s=>s.payload,"transform")})),this._createSandbox(),this.operates.options.delimiter=this.options.delimiter,ve(this.options.configManager)?this.options.configManager=new Z(this.options.configManager):this.options.configManager?this.options.configManager=new Z({load:o(()=>({}),"load")}):this._options.configManager===void 0&&globalThis[X]&&(this._options.configManager=globalThis[X]),this.computedObjects=new bt(this),this.watchObjects=new At(this),this.subscribeCallbacks(),this._data=te.call(this,t||{},{notify:this._notify.bind(this),createObserverObject:this.createObserverObject.bind(this)}),this.getSnap=this.getSnap.bind(this),this.watch=this.watch.bind(this),this.update=this.update.bind(this),this.peep=this.peep.bind(this),this.silentUpdate=this.silentUpdate.bind(this),this.batchUpdate=this.batchUpdate.bind(this),this.trace=this.trace.bind(this),this.collectDependencies=this.collectDependencies.bind(this),this.installExtends(),this.options.lazy||dt(this._data,this._onFirstEachState.bind(this)),this.options.resetable&&(this.resetable=true),this._options.debug&&typeof globalThis.__AUTOSTORE_DEVTOOLS__=="object"&&globalThis.__AUTOSTORE_DEVTOOLS__.add(this),this.emit("load",this);}get state(){return this._data}get operates(){return this._operates}get configurabled(){return this._configurabled||(this._configurabled=new Set),this._configurabled}get errors(){return this._errors||(this._errors={}),this._errors}get options(){return super.options}get silenting(){return this._silenting}get delimiter(){return this.options.delimiter}get batching(){return this._batching}get peeping(){return this._peeping}get resetable(){return this.options.resetable}get configManager(){return this.options.configManager}set resetable(t){if(t){if(this._updatedWatcher)return;this._updatedState={},this._updatedWatcher=this.watch(({path:r,oldValue:s})=>{if(r.length===0)return;let i=r.join(this.delimiter);!i.startsWith("#")&&!(i in this._updatedState)&&(this._updatedState[i]=s);},{operates:"write"});}else this._updatedWatcher&&(this._updatedWatcher.off(),this._updatedWatcher=void 0),this._updatedState={};this.options.resetable=t;}_createSandbox(){if(this.options.enableValueExpr){let t=x(this.options.createSandbox)?this.options.createSandbox:xe;this._safeEval=t({...this.options.sandboxContext||{},computed:F,watch:vt,configurable:Ee,schema:wt},{onError:o((r,s)=>(this.log(r),s),"onError")});}}reset(t){if(this.options.resetable&&this._updatedState)try{this.batchUpdate(r=>{let s=t?`${t}${this.delimiter}`:"";Object.entries(this._updatedState).forEach(([i,n])=>{i.startsWith(s)&&C(r,i.split(this.delimiter),n);});});}finally{this.emit("reset",t);}else this.log("resetable option is not enabled","warn");}_onFirstEachState({value:t,path:r}){if(typeof t=="string"){if(this.options.enableValueExpr===false||!x(this._safeEval))return;let s=t.trim();if(s.startsWith("```")&&s.endsWith("```")){if(s.length<=6)return;this.update(i=>{let n=s.slice(3,s.length-3).trim();if(!n)return;let a=this._safeEval?.(n);C(i,r,a);});}}}log(t,r){this.options.debug&&this.options.log?.call(this,t,r);}installExtends(){let t=globalThis.__AUTOSTORE_EXTENDS__;Array.isArray(t)&&t.forEach(r=>{typeof r=="function"&&r(this);});}subscribeCallbacks(){this.options.onComputedCreated&&this.on("computed:created",this.options.onComputedCreated.bind(this)),this.options.onComputedDone&&this.on("computed:done",this.options.onComputedDone.bind(this)),this.options.onComputedError&&this.on("computed:error",this.options.onComputedError.bind(this)),this.options.onComputedCancel&&this.on("computed:cancel",this.options.onComputedCancel.bind(this)),this.options.onObserverBeforeCreate&&this.on("observer:beforeCreate",this.options.onObserverBeforeCreate.bind(this)),this.options.onObserverCreated&&this.on("observer:created",this.options.onObserverCreated.bind(this));}_notify(t){this._peeping&&t.type==="get"||(this._batching&&this._batchOperates.push(t),!this._silenting&&(t.flags=this._updateFlags,this.operates.emit(t.path.join(this.delimiter),t)));}watch(){let t=typeof arguments[0]=="function"||["*","**"].includes(arguments[0])||Array.isArray(arguments[0])&&arguments[0].length===0,r=typeof arguments[0]=="function"?arguments[0]:arguments[1],s=arguments.length>=2&&typeof arguments[arguments.length-1]=="object"?arguments[arguments.length-1]:void 0,i=o((n,a)=>l=>{if(Pt(l,n)&&!(typeof a=="function"&&!a(l)))try{if(this._peeping=!0,l.type==="batch"){let f=l.value.filter(u=>Pt(u,n));if(f.length>0)l.value=f;else return}r(l);}finally{this._peeping=false;}},"createEventHandler");if(t){let{operates:n,filter:a}=Object.assign({once:false,operates:"write"},s),l=i(n,a);return this.operates.onAny(l)}else {let n=arguments[0],a=Array.isArray(n)?n.map(d=>typeof d=="string"?d:d.join(this.delimiter)):[n],{once:l,operates:f,filter:u}=Object.assign({once:false,operates:"write"},s),c=l?this.operates.once.bind(this.operates):this.operates.on.bind(this.operates),p=[],h=i(f,u);return a.forEach(d=>{p.push(c.call(this,d,h));}),{off:o(()=>p.forEach(d=>{d.off();}),"off")}}}createObserverObject(t,r,s,i){if(this.configManager&&yt(r)){let n=this.configManager.add(this,t,r);return this.configurabled.add(t.join(this.options.delimiter)),n}else {let n=re(r),a={path:t,value:r,parentPath:s,parent:i};if(n){if(n.type==="computed")return this._createComputed(n,a)?.initial;if(n.type==="watch")return this._createWatch(n,a)?.initial}else return r}}_createComputed(t,r){let s;return this.emit("observer:beforeCreate",t),t.options.async?s=new Et(this,t,r):s=new xt(this,t,r),s&&(s.silentUpdate(s.initial),s.options.objectify&&this.computedObjects.set(s.id,s),this.emit("computed:created",s),this.emit("observer:created",s)),s}_createWatch(t,r){this.emit("observer:beforeCreate",t);let s=new Ot(this,t,r);return this.watchObjects.set(s.id,s),this.emit("watch:created",s),this.emit("observer:created",s),s}silentUpdate(t){this.update(t,{silent:true});}batchUpdate(t){this.update(t,{batch:true,validate:"pass"});}update(t,r){let{batch:s=false,reply:i=true,silent:n=false,peep:a=false,flags:l=0,validate:f}=r||{};if(typeof t=="function"){this._updateFlags=l,this._updateValidateBehavior=f,n&&(this._silenting=true),s&&(this._batching=true,this._silenting=true),a&&(this._peeping=true);try{let u=t(this.state);if(s&&Kt(u))throw new Error("Batch update method can't be async function")}finally{this._silenting=false,this._batching=false,this._peeping=false,this._updateFlags=0,this._updateValidateBehavior=void 0,this.replyBatchOperates(i,s);}}else throw new Error("update method must provide a function argument")}replyBatchOperates(t,r){if(this._batchOperates.length>0){let s=[...this._batchOperates];this._batchOperates=[],t&&s.forEach(i=>{i.reply=true,this._notify(i);});try{let i=r===!0?Gt:String(r);this.operates.emit(i,{type:"batch",path:[i],value:s});}finally{this._batchOperates=[];}}}peep(){let t=typeof arguments[0]=="function"?()=>arguments[0](this.state):()=>y(this.state,Array.isArray(arguments[0])?arguments[0]:arguments[0].split(this.delimiter));this._peeping=true;try{return t()}finally{this._peeping=false;}}collectDependencies(t,r="*"){let s=[],i=this.watch(n=>{s.push(n.path);},{operates:r});try{t();}finally{i.off();}return gt(s)}trace(t,r="*"){let s;return {stop:o(()=>s?.off(),"stop"),start:o(async i=>{let n=[];return new Promise(a=>{s=this.watch(l=>{n.push(l),i?.(l)&&(s.off(),a(n));},{operates:r}),Promise.resolve(t()).finally(()=>{typeof i!="function"&&(s.off(),a(n));});})},"start")}}destroy(){this.offAll(),this._operates.offAll(),this.watchObjects.clear(),this.computedObjects.clear(),this.emit("unload",this);}getSnap(t){let{reserveAsync:r,entry:s,includeFunc:i}=Object.assign({reserveAsync:true},t);return _t(s?y(this._data,s):this._data,{reserveAsync:r,includeFunc:i})}get(t,r){let{defaultValue:s,timeout:i=0,expandAsync:n=false,waitAsyncDone:a=false}=Object.assign({},r),l=Array.isArray(t)?t:t.split(this.delimiter),f=y(this.state,l,s);return O(f)?f.loading&&a?new Promise((u,c)=>{let p,h;i>0&&(p=setTimeout(()=>{h?.off(),c(new M);},i)),h=this.on("computed:done",({path:d})=>{T(l,d)&&(clearTimeout(p),h?.off(),u(n?f.value:f));});}):n?f.value:f:f}toString(){return `AutoStore<${this.id}>`}};exports.ASYNC_COMPUTED_VALUE=lt;exports.AbortError=Y;exports.AsyncComputedObject=Et;exports.AutoStore=jt;exports.AutoStoreError=w;exports.BATCH_UPDATE_EVENT=Gt;exports.ComputedObject=q;exports.ComputedObjects=bt;exports.ConfigManager=Z;exports.CyleDependError=rt;exports.DELETE_FLAG=cs;exports.EMPTY=fs;exports.GLOBAL_CONFIG_MANAGER=X;exports.InvalidComputedArgumentsError=st;exports.InvalidDependsError=nt;exports.InvalidScopeError=it;exports.OBSERVER_DESCRIPTOR_BUILDER_FLAG=D;exports.OBSERVER_DESCRIPTOR_FLAG=Bt;exports.ObserverObject=K;exports.ObserverScopeRef=G;exports.PATH_DELIMITER=g;exports.SKIP_PROXY_FLAG=at;exports.SyncComputedObject=xt;exports.TimeoutError=M;exports.VALUE_SCHEMA_BUILDER_FLAG=I;exports.ValidateError=ot;exports.WITH_SCHEMA_VALUE=Yt;exports.WatchObject=Ot;exports.WatchObjects=At;exports.calcDependPaths=N;exports.computed=F;exports.configurable=Ee;exports.createAsyncComptuedValue=Dn;exports.createObserverObject=xn;exports.createTypeSchemaBuilder=L;exports.defineExtend=mn;exports.delay=Wi;exports.forEachObject=dt;exports.getAsyncVal=Rn;exports.getComputedId=Ti;exports.getDepends=ki;exports.getId=mt;exports.getMapVal=ht;exports.getSchemaValue=zt;exports.getSnap=we;exports.getSnapshot=_t;exports.getVal=y;exports.isAbsolutePath=Ct;exports.isAsyncComputedValue=O;exports.isComputedDescriptorParameter=Sn;exports.isEq=ct;exports.isFunction=x;exports.isMap=$;exports.isObserverDescriptor=j;exports.isObserverDescriptorBuilder=W;exports.isPathEq=T;exports.isPathMatched=Ht;exports.isPlainObject=pt;exports.isPrimitive=cn;exports.isPromise=Kt;exports.isProxy=ti;exports.isRaw=z;exports.isRelPath=Bn;exports.isSchemaBuilder=yt;exports.isValueSchema=Wn;exports.isWithSchemaValue=je;exports.joinValuePath=U;exports.markRaw=V;exports.noRepeat=gt;exports.normalizeDeps=Vt;exports.pathIsExists=en;exports.pathStartsWith=Hi;exports.s=Ml;exports.schema=wt;exports.schemas=He;exports.setVal=C;exports.updateObjectVal=qt;exports.watch=vt;exports.withSchema=Xt;return exports;})({});//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map