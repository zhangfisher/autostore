var AutoStoreSpaces=(function(exports){'use strict';var x=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var _=class extends Error{},F=class extends _{},V=class extends _{},k=class extends _{},K=class extends _{},N=class extends _{},q=class extends _{},M=class extends _{};var Y="__AS_SKIP_PROXY__",D="__AS_OBSERVER_DESCRIPTOR_BUILDER__",ve="__AS_OBSERVER_DESCRIPTOR__",l=".",Ae="__batch_update__",X="__AS_ASYNC_COMPUTED_VALUE__",Ye="__AS_EMPTY__",T="__AS_VALUE_SCHEMA__",Xe="__AS_DELETE_FLAG__";function z(r){return r.constructor.name==="AsyncFunction"}function me(r){return r?r.map(e=>Array.isArray(e)?e:typeof e=="string"?["/","./","../"].some(t=>e.startsWith(t))?e:e.includes(l)?e.split(l):e.split("."):[]):[]}function Q(){return {async:false,enable:true,timeout:0,depends:[],immediate:"auto",extras:void 0,objectify:true}}function J(){let r=arguments[0];if(typeof r!="function")throw new Error("computed getter must be a function");let e=[],t=Object.assign({},Q());if(arguments.length===1)e=[];else if(arguments.length===2)if(Array.isArray(arguments[1]))t.depends=arguments[1];else if(typeof arguments[1]=="object")Object.assign(t,arguments[1]),t.depends=me(t.depends);else throw new K;else arguments.length>=3&&(e=me(arguments[1]),Object.assign(t,arguments[2]),t.depends=e);t.async=t.async===true||z(r)||arguments.length>=2&&Array.isArray(arguments[1]);let o=()=>({type:"computed",getter:r,options:t,[ve]:true});return o[D]=true,o}function fe(r){return r?r.some(e=>typeof e=="string"?e.startsWith("./")||e.startsWith("../")||e.startsWith("@")?false:!["CURRENT","SELF","PARENT"].includes(e):true):false}function v(r){return typeof r=="object"&&r.hasOwnProperty("type")&&typeof r.type=="string"&&r.hasOwnProperty("getter")&&typeof r.getter=="function"&&r.hasOwnProperty("options")&&typeof r.options=="object"}function U(r){try{return r[Y]===!0}catch{}return  false}function Z(r,e){if(r===e)return  true;if(r===null||e===null||typeof r!=typeof e)return  false;if(typeof r=="object"){if(Array.isArray(r)&&Array.isArray(e))return r.length!==e.length?false:r.every((t,o)=>Z(t,e[o]));if(!Array.isArray(r)&&!Array.isArray(e)){let t=Object.keys(r);return t.length!==Object.keys(e).length?false:t.every(o=>Z(r[o],e[o]))}else return  false}return  false}function w(r){return toString.call(r)==="[object Map]"}function A(r,e){return !r||!e||r.length!==e.length?false:r.every((t,o)=>t===e[o])}function xe(r,e){let t=Array.isArray(r)?r:r.split(l),o=Array.isArray(e)?e:e===""?[]:e.split(l);return o.length===0||A(t,o)?true:(o[o.length-1]==="**"&&(o[o.length-1]="*",o.splice(o.length-1,0,...Array.from({length:t.length-o.length}).fill("*"))),t.length!==o.length?false:o.every((i,s)=>i==="*"||i==="**"?true:i===t[s]))}function Ce(r){return r==null||typeof r!="object"?false:Object.prototype.toString.call(r)==="[object Object]"}function b(r){return r&&typeof r=="object"&&r.hasOwnProperty(X)}function Ee(r){try{return !!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"&&typeof r.catch=="function"&&(r instanceof Promise||Object.prototype.toString.call(r)==="[object Promise]")}catch{return  false}}function R(r){return typeof r=="function"&&r[D]===true}function At(r){return typeof r=="object"&&r!==null&&!("__isProxy"in r)}function ee(r,e){let t=r.get(e);if(t!==void 0)return t;let o=r.get(Number(e)||e);if(o!==void 0)return o}function f(r,e,t){if(!e||e.length===0)return r;let o=Array.isArray(e)?e:e.split(l),n,i=r;for(let s=0;s<o.length;s++){let a=o[s];if(w(i))n=ee(i,a);else if(a in i)n=i[a];else return t;i=n;}return n}function g(r){try{["object","function"].includes(typeof r)&&(r[Y]=!0);}catch{}return r}function C(r,e,t,o){if(!e||!r)return r;let n=e;if(n.length===0)return typeof r=="object"&&Object.assign(r,t),r;{let i=r,s=[],a=(u,p,c)=>{o&&b(u[p])?u[p].value=c:u[p]=c;};for(let u=0;u<n.length;u++){let p=n[u];if(s.push(p),i)if(Array.isArray(i)){let c=parseInt(p,10);if(Number.isNaN(c)||c<0)throw new Error(`setVal: invalid array index ${s.join(".")}`);u===n.length-1?a(i,c,t):i=i[c];}else i instanceof Map||i instanceof WeakMap?u===n.length-1?i.set(p,t):(i.has(p)||i.set(p,{}),i=i.get(p)):typeof i=="object"&&p in i?u===n.length-1?a(i,p,t):i=i[p]:(i[p]=u===n.length-1?t:{},i=i[p]);else i[p]=u===n.length-1?t:{},i=i[p];}}return r}function W(r){return (r||["ROOT"]).map(e=>Array.isArray(e)?e.join("."):e).join(l)}function te(){return Math.random().toString(36).slice(2)}function G(r,e,t){let o=r&&!r[0].startsWith("#");if(Array.isArray(e))return e;if(e==="self")return o?r:void 0;if(e==="root")return o?[]:void 0;if(e==="parent")return o?r.slice(0,-2):void 0;if(e==="current")return o?r.slice(0,-1):void 0;if(typeof e=="string")return e.startsWith("./")?o?[...r.slice(0,-1),...e.slice(2).split(l)]:void 0:e.startsWith("../")?o?G(r.slice(0,-1),e.slice(3),true):void 0:e.startsWith("/")?e.replace(/^(\/)*/,"").split(l):o&&t?[...r.slice(0,-1),...e.split(l)]:e.split(l)}function j(r,e){return e?e.map(t=>G(r,t)).filter(t=>t!==void 0):[]}function $t(r,e){let t="";return e.id?t=e.id:t=W(r),t}function Ve(r,e,t){let o=r,n=e.length-1;e.forEach((i,s)=>{let a=w(o);if(s===n){let u=a?o.get(i):o[i];typeof u=="object"&&Object.assign(u,t);return}a?(o.has(i)||o.set(i,{}),o=o.get(i)):(i in o||(o[i]={}),o=o[i]);});}function re(r,e){function t(o,n){for(let i in o){let s=o[i];typeof e=="function"&&e({value:s,key:i,parent:o,path:n.concat(i)}),typeof s=="object"&&!U(s)&&t(s,n.concat(i));}}t(r,[]);}function Ue(r){return r}function Xt(r=1e3){return new Promise(e=>{setTimeout(e,r);})}function oe(r){let e=new Map;return r.forEach(t=>{let o=t.join(".");e.set(o,t);}),Array.from(e.values())}function De(r,e){return r.length>e.length?false:r.every((t,o)=>t===e[o])}function rr(r,e,t){let o=[];return typeof r=="function"?o=e.collectDependencies(()=>r(e.state)):typeof r=="string"?o=[r.split(l)]:Array.isArray(r)?o=[[...r]]:o=[],t!=="none"&&o.forEach(n=>{let i=e.peep(s=>f(s,n));b(i)&&n.push(t==="all"?"*":"value");}),o}function sr(r,e){if(!e||e.length===0)return  false;let t,o=r;for(let n=0;n<e.length;n++){let i=e[n],s=false;if(w(o)){if(s=o.has(i),!s)return  false;t=ee(o,i);}else {if(s=i in o,!s)return  false;t=o[i];}o=t;}return  true}function S(r){return r?typeof r=="function":false}function ne(r,e){let{reserveAsync:t,includeFunc:o}=Object.assign({reserveAsync:false},e);if(Array.isArray(r)){let n=[...r];for(let i=0;i<n.length;i++)n[i]=ne(n[i],e);return n}else if(typeof r=="object"){if(!t&&b(r))return r.value;{let n={...r};for(let i in n)n[i]=ne(n[i],e);return n}}return o&&S(r)?`\`\`\`${r.toString()}\`\`\``:r}function dr(r){return r==null||typeof r=="string"||typeof r=="number"||typeof r=="boolean"}function mr(r){globalThis.__AUTOSTORE_EXTENDS__&&(globalThis.__AUTOSTORE_EXTENDS__=[]),typeof r=="function"&&globalThis.__AUTOSTORE_EXTENDS__.push(r);}function Sr(r,e,t){let o=R(e)?e():e;if(v(o)){if(o.options.objectify=false,Object.assign(o.options,t),o.type==="computed")return r.computedObjects.create(o);if(o.type==="watch")return r.watchObjects.create(o)}else if(typeof o=="function"){let i=J(o)();return i.options.objectify=false,Object.assign(i.options,t),r.computedObjects.create(i)}}function Ar(r){return v(r)||R(r)}function Dr(r,e,t){let o=f(r,typeof e=="string"?e.split(l):e,t);return b(o)?o:{value:o,loading:false,retry:0,error:null,timeout:0,progress:0,run:()=>{},cancel:()=>{}}}function Rr(r,e){return b(r)?Object.assign({},r,e):Object.assign({value:r,loading:false,retry:0,progress:0,timeout:0,error:null,run:()=>{},cancel:()=>{}},e)}function Pr(r){try{return r[T]===!0}catch{}return  false}function Te(r){let e=Array.isArray(r)?r[0]:r;return !!(e.startsWith("./")||e.startsWith("../")||["CURRENT","PARENT","SELF"].includes(e))}function ie(r){return typeof r=="function"&&r[T]===true}var se=class extends Map{constructor(t){super();this.store=t;}get enable(){return this.store.options.enableComputed}set enable(t){this.store.options.enableComputed=t;}create(){let t=v(arguments[0])?arguments[0]:J(...arguments)();if(t.options.async&&!fe(t.options.depends))throw new q("The scope of the dynamic computed object must be the root state object or an absolute path");let o=t.options.scope;if(o===void 0||o==="ROOT")t.options.scope="ROOT";else if(!fe([o]))throw new N("The scope of the dynamic computed object must be the root state object or an absolute path");return this.store._createComputed(t)}async runGroup(t,o,n){return await this.run(i=>i.group===t,o,n)}async run(){if(arguments.length===0)return Promise.all([...this.values()].map(s=>s.run()));let t;typeof arguments[0]=="function"?t=arguments[0]:typeof arguments[0]=="string"&&(t=s=>s.id===arguments[0]);let o=Object.assign({},arguments[1]),n=Object.assign({wait:false,timeout:0},arguments[2]),i={};return new Promise((s,a)=>{if(n.wait){let u;o.onDone=({id:p})=>{if(i[p]=true,Object.values(i).every(c=>c))return clearTimeout(u),true},n.timeout>0&&(u=setTimeout(()=>{a(new V);},n.timeout));}Promise.all([...this.values()].filter(u=>t(u)?(i[u.id]=false,true):false).map(u=>u.run(o))),n.wait||s();})}async enableGroup(t){for(let o of this.values())o.options.enable=t;}delete(t){return this.get(t)?.detach(),super.delete(t)}find(t){if(!t)return;let o=Array.isArray(t)?t:t.split(l);for(let n of this.values())if(A(n.path,o))return n}};function ye(r,...e){if(e.length===0)return r;let t=e.map((o,n)=>{let i=Object.entries(o||{});return i.some(([s,a])=>a===void 0)?i.reduce((s,[a,u])=>(u!==void 0&&(s[a]=u),s),{}):o});return Object.assign(r,...t)}(r=>typeof x<"u"?x:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof x<"u"?x:e)[t]}):r)(function(r){if(typeof x<"u")return x.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});function we(r,e="info"){let t=typeof r=="function"?r():r instanceof Error?r.stack:r;try{console[e](`[AutoStore<${this.id}>]`,...Array.isArray(t)?t:[t]);}catch{}}function P(r,e,t=l){let o=[];try{return typeof e=="function"&&(e=e.call(r,r)),o=Array.isArray(e)?e:typeof e=="string"?e.split(t):[],o.length>0?f(r,o):r}catch{return r}}var Re=(i=>(i.Root="ROOT",i.Current="CURRENT",i.Parent="PARENT",i.Depends="DEPENDS",i.Self="SELF",i))(Re||{});function Ge(r,e,t){let o=e===void 0?t:e;if(typeof o=="function")try{o=o.call(r.store,r);}catch{}return o===void 0?t===void 0?"CURRENT":t:o}function L(r,e,t,o){let n=r.store.state,i=r.store.options;if(typeof i.getRootScope=="function"){let c=i.getRootScope(r,{observerType:e,valuePath:t?.path});c!==void 0&&(n=c);}let{path:s,parentPath:a}=t||{},u=Ge(r,o.scope,i.scope),p=n;try{u==="CURRENT"?p=P(n,a):u==="PARENT"?p=P(n,s.slice(0,s.length-2<0?0:s.length-2)):u==="ROOT"?p=n:u==="DEPENDS"?p=r.depends?.map(c=>P(n,c)):typeof u=="string"?u.startsWith("@")?p=L(r,e,t,{...o,scope:L(r,e,{...t,path:u.slice(1).split(l)},{...o,scope:u.slice(1)})}):p=P(n,G(r.path,u)):Array.isArray(u)&&(p=P(n,u));}catch(c){i.log(`Error while getting computed scope ${r.toString()}: ${c.message}`,"error");}return p}var I=class{constructor(e,t,o){this.descriptor=t;this.context=o;this.store=e,this._associated=o!==void 0,this._getter=t.getter,this._options=Object.assign({enable:true,group:"",depends:[],throwError:true},t.options),this._id=this._options.id||(this._associated?W(o?.path):te()),this._path=o?.path||[`#${this._id}`],this._path||(this._path=[`#${this._id}`]),this._initial=this._options.initial,this.onInitOptions(this._options),this._depends=j(this._path,this._options.depends),this._onObserverCreated(),this._onInitial();}_path;_id="";_initial;_value;_associated=false;_attached=false;_getter;_depends=[];_options;_subscribers=[];_strPath;_error;store;_shadowStore;get shadowStore(){return this._shadowStore||(this._shadowStore=S(this.store.options.getShadowStore)?this.store.options.getShadowStore()||this.store:this.store),this._shadowStore}get type(){return this.descriptor.type}get options(){return this._options}get id(){return this._id}get associated(){return this._associated}get async(){return this._options.async}get enable(){return this._options.enable}set enable(e){this._options.enable=e;}set group(e){this._options.group=e;}get group(){return this._options.group}get initial(){return this._initial}set initial(e){this._initial=e;}get path(){return this._path}get attached(){return this._attached}get depends(){return this._depends}set depends(e){this._depends=e;}get getter(){return this._getter}set getter(e){this._getter=e;}get strPath(){return this._strPath||(this._strPath=this._path.join(l)),this._strPath}get error(){return this._error}set error(e){this._error=e;}toString(){return `ObserverObject<${this.strPath}>`}get value(){return this._associated?f(this.store.state,this._path):(this.store._notify({type:"get",path:this.path,value:this._value}),this._value)}set value(e){if(this._associated)C(this.store.state,this._path,e);else {let t=this._value;e!==t&&(this._value=e,this.store._notify({type:"set",path:this.path,value:e,oldValue:t}));}}_onObserverCreated(){typeof this.store.options.onObserverCreated=="function"&&this.store.options.onObserverCreated(this);}_onInitial(){this._options.initial!==void 0&&this.update(this._options.initial,{silent:true}),this.onInitial();}onInitial(){}onInitOptions(e){}update(e,t){this.store.update(()=>{this.value=e;},t);}silentUpdate(e){this.update(e,{silent:true});}watch(e,t){let o=this.store.watch(this.getValueWatchPath(),n=>{e.call(this,n);},t);return this._subscribers.push(o),o}getValueWatchPath(){return this.path.join(l)}emitStoreEvent(e,t){setTimeout(()=>{this.store.emit(e,t);},0);}getDepends(){return this.depends}onDependsChange(e){}attach(){!this._attached&&this.depends&&this.depends.length>0&&(this._subscribers.push(this.shadowStore.watch(this.getDepends(),this.onDependsChange.bind(this),{operates:"write"})),this.store.log(()=>`${this.toString()} subscribed to ${this.depends.map(e=>e.join(l)).join(",")}`),this._attached=true);}detach(){this._attached&&(this._subscribers.forEach(e=>e.off()),this._attached=false,this._subscribers=[],this.store.watchObjects.delete(this.id));}run(...e){}};var B=class extends I{constructor(t,o,n){super(t,o,n);this.descriptor=o;this.context=n;o.options.depends=j(this.path,this.options.depends);}toString(){return `ComputedObject<${W(this.path)}>`}get val(){return this.async?this.value.value:this.value}isDisable(t){return !this.store.options.enableComputed||!this.enable&&t!==true||t===false}run(t){throw new Error("Method not implemented.")}};var ae=class extends B{get async(){return  false}onInitial(){this.collectDependencies();}run(e){let{first:t,operate:o}=Object.assign({first:false,operate:void 0},e);if(this.error=void 0,!t&&this.isDisable(e?.enable)){this.store.log(`Sync computed <${this.toString()}> is disabled`,"warn");return}!t&&this.store.log(()=>`Run sync computed for : ${this.toString()}`);let n=e?Object.assign({},this.options,e):this.options,i=L(this,"computed",this.context,n),s=n.initial;try{s=this.getter.call(this,i,{operate:o,first:t});}catch(a){this.error=a;}this.onDone(t,s,n);}onDone(e,t,o){let n=t;if(this.error&&S(o.onError)){let i=o.onError(this.error);i!==void 0&&(n=i);}if(e&&(this.initial=n),this.store.peep(()=>{this.value=n;}),this.error){if(!e&&this.emitStoreEvent("computed:error",{id:this.id,path:this.path,error:this.error,computedObject:this}),this.options.throwError)throw this.error}else !e&&this.emitStoreEvent("computed:done",{id:this.id,path:this.path,value:n,computedObject:this});}collectDependencies(){let e=[],t=this.shadowStore.watch(o=>{e.push(o.path);},{operates:["get"]});this.run({first:true}),t.off(),Array.isArray(this.options.depends)&&this.options.depends.length>0&&e.push(...j(this.path,this.options.depends)),this.depends=oe(e),this.attach();}onDependsChange(e){this.run({operate:e});}};function We(r,e,t,o,n){return t==="push"?(...i)=>{let s=e.length,a=o.apply(e,i);if(e.length>s){let u=Array.from({length:e.length-s},(p,c)=>c+s);r({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e});}return a}:t==="pop"?()=>{let i=e.length,s=o.apply(e);return e.length===i-1&&r({type:"remove",path:n,indexs:[i-1],value:[s],oldValue:void 0,parentPath:n,parent:e}),s}:t==="splice"?(i,s,...a)=>{let u=o.apply(e,[i,s,...a]);if(u.length>0){let p=Array.from({length:u.length},(c,d)=>i+d);r({type:"remove",path:n,indexs:p,value:u,oldValue:void 0,parentPath:n,parent:e});}if(a.length>0){let p=Array.from({length:a.length},(c,d)=>i+d);r({type:"insert",path:n,indexs:p,value:a,oldValue:void 0,parentPath:n,parent:e});}return u}:t==="unshift"?(...i)=>{let s=e.length,a=o.apply(e,i);if(e.length>s){let u=Array.from({length:e.length-s},(p,c)=>c);r({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e});}return a}:t==="shift"?()=>{let i=e.length,s=o.apply(e);return e.length===i-1&&r({type:"remove",path:n,indexs:[0],value:[s],oldValue:void 0,parentPath:n,parent:e}),s}:t==="fill"?(i,s,a)=>{let u=o.apply(e,[i,s,a]),p=s??0,c=a??e.length,d=Array.from({length:c-p},(h,y)=>y+p),m=Array.from({length:c-p},()=>i);return r({type:"update",path:n,indexs:d,value:m,oldValue:void 0,parentPath:n,parent:e}),u}:t==="concat"?(...i)=>{let s=e.length,a=o.apply(e,i),u=Array.from({length:i.length},(p,c)=>s+c);return r({type:"insert",path:n,indexs:u,value:i,oldValue:void 0,parentPath:n,parent:e}),a}:o}function je(r){return typeof r=="number"||typeof r=="string"&&!Number.isNaN(parseInt(r))}var ge=Symbol("__NOTIFY__");function $e(r,e,t,o,n){let i=this._updateValidateBehavior;if(i==="none")return  true;let s=this.schemas,a=s.get(e);if(!a)return  true;let u=a.onValidate||this.options.onValidate;if(typeof u!="function")return  true;let p=i!==void 0?i:a.onFail||"throw",c=true,d=a.invalidTips||"validate error",m=true,h;try{c=u.call(this,t,o,e)!==!1;}catch(y){h=y;}finally{if(c)delete s.errors[e.join("_$_")];else {if(S(d))try{d=d.call(this,h,e,t,o);}catch{}else h&&!d&&(d=h.message);if(typeof d=="string"&&d.includes("{")&&d.includes("}")){let y=s.get(e);y&&(d=d.replace(/\{([^}]+)\}/g,(O,H)=>y[H]));}s.errors[e.join(this.options.delimiter)]=d;}this.emit("validate",{path:[...n,...e],newValue:t,oldValue:o,error:d});}if(!c){if(p==="throw")throw new M(d);p==="throw-pass"?m=new M(d):p==="ignore"?m=false:m=true;}return m}function Pe(r,e,t,o,n){if(U(r)||typeof r!="object"||r===null)return r;if(t.has(r))return t.get(r);let i=new Proxy(r,{get:(s,a,u)=>{let p=Reflect.get(s,a,u);if(typeof a!="string")return p;let c=[...e,String(a)];if(typeof p=="function"||!Object.hasOwn(s,a))if(typeof p=="function"){if(Array.isArray(s)&&!je(a))return We(n.notify,s,a,p,e);if(!U(p)&&Object.hasOwn(s,a)){if(typeof this.options.onObserverInitial=="function")try{if(this.options.onObserverInitial.call(this,c,p,s)===!1)return g(p),p}catch(m){this.log(`onObserverBeforeCreate error: ${m.message}`,"error");}let d=c.join(".");try{if(o.has(d)){let m=[...o.keys(),d];throw o.clear(),new k(`Find circular dependency at <"${c}">, steps: ${m.join(" -> ")}`)}return o.set(d,!0),n.createObserverObject(c,p,e,s)}finally{o.delete(d);}}else return p}else return p;return n.notify({type:"get",path:c,indexs:[],value:p,oldValue:void 0,parentPath:e,parent:s}),Pe.call(this,p,c,t,o,n)},set:(s,a,u,p)=>{let c=Reflect.get(s,a,p),d=[...e,String(a)],m=$e.call(this,i,d,u,c,e);if(m){let h=Reflect.set(s,a,u,p);if(a===ge)return  true;if(h&&a!==ge&&u!==c&&n.notify({type:Array.isArray(s)?"update":"set",path:d,indexs:[],value:u,oldValue:c,parentPath:e,parent:s}),m instanceof Error)throw m;return h}else return  true},deleteProperty:(s,a)=>{let u=s[a],p=[...e,String(a)],c=Reflect.deleteProperty(s,a);return c&&a!==ge&&(this.schemas.remove(p),n.notify({type:"delete",path:p,indexs:[],value:u,oldValue:void 0,parentPath:e,parent:s})),c}});return t.set(r,i),i}function Le(r,e){let t=new Map,o=new WeakMap;return Pe.call(this,r,[],o,t,e)}async function be(r){return new Promise((e,t)=>setTimeout(e,r))}function Ie(r){return r instanceof Error?r:new Error(r)}var pe=class extends B{_isRunning=false;_defaultAbortController=null;_userAbortController;_firstRun=false;get async(){return  true}get value(){return super.value}set value(e){super.value=e;}get running(){return this._isRunning}onInitOptions(e){e.reentry===void 0&&(e.reentry=this.store.options.reentry);}onInitial(){this.initial=this.createAsyncComputedValue(),this.attach(),setTimeout(()=>{(this.options.immediate===true||this.options.immediate==="auto"&&this.options.initial===void 0)&&this.run({first:true});},0);}createAsyncComputedValue(){return Object.assign({[X]:true,loading:false,timeout:0,retry:0,error:null,value:this.options.initial,progress:0,run:g(e=>this.store.computedObjects.run(this.id,Object.assign({},e))),cancel:g(()=>{this.getAbortController().abort();})})}updateComputedValue(e){let t=this.strPath,o=Object.keys(e).length;if(this.associated)this.store.update(n=>{Ve(n,this.path,e);},{batch:o>1?t:false});else {Object.assign(this.value,e);let n=o>1,i=[];Object.entries(e).forEach(([s,a])=>{let u={type:"set",path:[...this.path,s],value:a,parent:this.value};n&&(u.reply=true),this.store.operates.emit(`${this.strPath}.${s}`,u),i.push(u);}),n&&this.store.operates.emit(this.strPath,{type:"batch",path:this.path,value:i});}}async run(e){let{first:t}=e??{};if(this.isDisable(e?.enable)){this.store.log(()=>`Async computed <${this.toString()}> is disabled`,"warn");return}this.error=void 0,this._firstRun=true,!t&&this.store.log(()=>`Run async computed for : ${this.toString()}`);let o=e?Object.assign({first:t},this.options,e):this.options,n=L(this,"computed",this.context,o),{reentry:i}=o;if(this._isRunning&&!i){this.store.log(()=>`Async computed: ${this.toString()} is running, can't reentry`,"warn"),this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,reason:"reentry",computedObject:this});return}this._isRunning=true;try{return await this.executeGetter(n,o)}finally{this._isRunning=false;}}createComputeProgressbar(e){let{max:t=100,min:o=0,value:n=0}=Object.assign({},e);return this.updateComputedValue({progress:n}),{value:i=>{i>t&&(i=t),i<o&&(i=o),this.updateComputedValue({progress:i});},end(){this.value(t);}}}getAbortController(e){if(e&&typeof e.abortController=="function"){let t=e.abortController();t&&t instanceof AbortController&&(this._userAbortController=t);}return this._userAbortController?this._userAbortController:(this._defaultAbortController||(this._defaultAbortController=new AbortController),this._defaultAbortController.signal.aborted&&(this._defaultAbortController=new AbortController),this._defaultAbortController)}setTimeoutControl(e,t,o){let{timeout:n}=o,[i=0,s=0]=Array.isArray(n)?n:[n,0],a,u;return i>0&&(t.timeout=s>1?s:i,u=setTimeout(()=>{e.hasTimeout=true,e.hasError=true,e.error="TIMEOUT",typeof e.timeoutCallback=="function"&&e.timeoutCallback(),clearInterval(a),this.updateComputedValue({loading:false,error:"TIMEOUT",timeout:0});},i),s>1&&(a=setInterval(()=>{this.updateComputedValue({timeout:s--}),s===0&&clearInterval(a);},i/(s+1)))),{clear:()=>{clearTimeout(u),clearInterval(a);},enable:i>0}}async executeGetter(e,t){let{retry:o=[0,0]}=t,[n,i]=Array.isArray(o)?o:[Number(o),0],s,a=this.getAbortController(t),u={onTimeout:h=>s=h,getProgressbar:this.createComputeProgressbar.bind(this),getSnap:h=>h,cancel:a.abort,extras:t.extras,operate:t.operate,first:t.first,abortSignal:a.signal},p={error:null,hasError:false,hasTimeout:false,hasAbort:false,timeoutCallback:s};a.signal.addEventListener("abort",()=>p.hasAbort=true);let c={clear:()=>{},enable:false},d,m=h=>Object.assign(p,h);for(let h=0;h<n+1;h++){let y={};try{let O={loading:!0};if(p.hasError&&(O.error=null),n>0&&(O.retry=h>0?n-h+1:0),h>0&&m({error:null,hasError:!1,hasTimeout:!1}),c=this.setTimeoutControl(p,O,t),this.updateComputedValue(O),p.hasAbort)throw new F;if(d=await this.getter.call(this,e,u),p.hasAbort)throw new F;p.hasTimeout||(y.value=d,c.enable&&(y.timeout=0));}catch(O){if(p.hasError=true,p.error=O,p.hasTimeout||(y.error=Ie(O).message),S(t.onError)){let H=t.onError(O);H!==void 0&&(y.value=H);}}finally{c.clear(),h===n&&(p.hasTimeout&&(y.error=p.error),n>0&&(y.retry=0)),y.loading=false,this.updateComputedValue(y);}p.hasError&&n>0&&i>0&&h<n&&await be(i);}p.hasAbort?this.emitStoreEvent("computed:cancel",{path:this.path,id:this.id,computedObject:this}):p.hasError||p.hasTimeout?(this.error=p.error,this.emitStoreEvent("computed:error",{path:this.path,id:this.id,error:p.error,computedObject:this})):this.emitStoreEvent("computed:done",{path:this.path,id:this.id,value:d,computedObject:this}),this.onDoneCallback(t,p.error,p.hasAbort,p.hasTimeout,e,d);}onDoneCallback(e,t,o,n,i,s){typeof e.onDone=="function"&&e.onDone.call(this,{id:this.id,path:this.path,value:s,error:t,abort:o,timeout:n,scope:i});}onDependsChange(e){this.store.log(()=>`AsyncComputed<${this.id}> is running by depends ${e.type}/${e.path.join(".")} operate `),this.run({operate:e,first:!this._firstRun});}getValueWatchPath(){let e=this.path.join(l);return [`${e}.*`,e]}getDepends(){return super.getDepends().map(t=>{if(t.length===0)return t;for(let o of this.store.computedObjects.values())if(A(o.path,t)&&o.async)return [`${t}.value`];return t})}};function Be(){let r=arguments[0],e=typeof arguments[1]=="function"?arguments[1]:()=>true,t=typeof arguments[1]=="object"?arguments[1]:arguments[2],o=Object.assign({depends:[],enable:true,objectify:true,filter:e},t),n=()=>({type:"watch",getter:r,options:o});return n[D]=true,n}var ue=class extends Map{constructor(t){super();this.store=t;}_watcher={off:()=>{}};_enable=true;get enable(){return this._enable}set enable(t){this._enable=t;}set(t,o){return super.size===0&&this.createWacher(),super.set(t,o)}createWacher(){this._watcher=this.store.watch("**",({path:t,value:o})=>{if(!this._enable)return;let n=t[0].startsWith("#")?o:f(this.store.state,t);for(let i of this.values())i.isMatched(t,n)&&i.run(t,n);});}reset(){this._watcher&&this._watcher.off();for(let t of this.values())t.reset();this.createWacher();}create(){let t=v(arguments[0])?arguments[0]:Be(...arguments)();return this.store._createWatch(t)}enableGroup(t,o=true){for(let n of this.values())n.options.group===t&&(n.options.enable=o);}};var ce=class extends I{constructor(t,o,n){super(t,o,n);this.store=t;this.context=n;if(typeof this.options.filter!="function")throw new Error("watch options.filter must be a function")}_cache;get filter(){return this.options.filter}get cache(){return this._cache||(this._cache={}),this._cache}toString(){return `WatchObject<${this.id}>`}onInitial(){}isMatched(t,o){return Z(t,this.path)?false:this.filter(t,o)}reset(){this._cache={},this.value=this.initial;}run(t,o){if(!this.enable){this.store.log(`WatchObject <${this.toString()}> is disabled`);return}try{let n=this.getter?.call(this,{path:t,value:o},this);this.value=n,this.emitStoreEvent("watch:done",{value:n,watchObject:this});}catch(n){this.emitStoreEvent("watch:error",{error:n,watchObject:this});}}};function Se(r,e){return new Proxy(r,{get(o,n,i){return n==="on"?(s,a,u)=>r.on(`${e}${l}${s}`,(p,c)=>a(p,c.slice(e.length+1)),u):n==="once"?(s,a)=>r.once(`${e}${l}${s}`,(u,p)=>{a(u,p.slice(e.length+1));}):n==="off"?(s,a)=>r.off(`${e}${l}${s}`,a):n==="emit"?(s,a)=>r.emit(`${e}${l}${s}`,a):n==="wait"?async(...s)=>{if(typeof s[0]=="string")return s[0]=`${e}${l}${s[0]}`,r.wait(...s);if(typeof s[0]=="function"){let a=s[0];return s[0]=(u,p)=>{u.startsWith(e)&&a(u.slice(e.length+1),p);},r.wait(...s)}}:n==="offAll"?()=>{for(let[s]of r.listeners.entries())s!=="*"&&typeof s=="string"&&s.startsWith(`${e}.`)&&r.listeners.delete(s);}:n==="onAny"?s=>r.on(`${e}${l}**`,(a,u)=>{s(a,u.slice(e.length+1));}):n==="scope"?s=>Se(r,`${e}${l}${s}`):Reflect.get(o,n,i)}})}var $=class{_listeners=new Map;get listeners(){return this._listeners}on(){let e=arguments[0],t=arguments[1],o=arguments[2],n=t;return e==="**"?this.addHandler("*",n,o):String(e).includes("*")?(n=(i,s)=>{xe(s,e)&&t(i,s);},this.addHandler("*",n,o)):this.addHandler(e,n,o),{off:()=>this.off(e,n)}}addHandler(e,t,o){let n=this._listeners.get(e);n?o?n.unshift(t):n.push(t):this._listeners.set(e,[t]);}once(e,t){let o=(n,i)=>{try{t(n,i);}finally{this.off(i,o);}};return this.on(e,o)}off(e,t){String(e).includes("*")&&(e="*");let o=this._listeners.get(e);o&&(t?o.splice(o.indexOf(t)>>>0,1):this._listeners.set(e,[]));}offAll(){this._listeners.clear();}onAny(e){return this.on("**",e)}wait(){let e=typeof arguments[0],t=e==="string"?arguments[0]:void 0,o=arguments[1]||0,n=e==="function"?e:void 0,i;return new Promise((s,a)=>{let u;t?u=this.once(t,p=>{clearTimeout(i),s(p);}):typeof n=="function"&&(u=this.onAny((p,c)=>{n(c,p)!==false&&(u.off(),clearTimeout(i),s(p));})),o>0&&(i=setTimeout(()=>{u.off(),a(new Error("timeout"));},o));})}emit(e,t){let o=this._listeners.get("*");o&&o.slice().map(n=>{n(t,e);}),o=this._listeners.get(e),o&&o.slice().map(n=>{n(t,e);});}scope(e){return Se(this,e)}};function Fe(r){let e;return R(r)?e=r():typeof r=="function"&&(e={type:"computed",getter:r,options:Object.assign({},Q(),{async:z(r)})}),e}function Oe(r,e){if(e==="*")return  true;if(e==="write"){if(r.type==="get")return}else if(e==="read"){if(r.type!=="get")return}else if(Array.isArray(e)&&e.length>0&&!e.includes(r.type))return;return  true}function le(r){r.startsWith("```")&&r.endsWith("```")&&(r=r.slice(3,-3));let e=/^\s*(?:function\s*\(([^)]*)\)\s*\{([\s\S]*)\}|\(([^)]*)\)\s*=>\s*(?:\{([\s\S]*)\}|(.+)))$/m.exec(r);if(!e)return;let[,t,o,n,i,s]=e,a=(t||n).split(",").map(p=>p.trim()).filter(Boolean),u=o||i||`return ${s}`;try{return new Function(...a,u)}catch{}}var de=class{constructor(e){this.shadow=e;}errors={};_subscribers=[];store;_descriptors={};get fields(){return this.store.state}get size(){return Object.keys(this.fields).length}_getKey(e){return Array.isArray(e)?e.join("_$_"):e.split(l).join("_$_")}_getPath(e){return e.split("_$_")}add(e,t){let o=ie(t)?t():t,n=Array.isArray(e)?e:e.split(l),i=this._getKey(e);o.options.onFail||(o.options.onFail="throw-pass");let s=Object.assign({},this.shadow.options.defaultSchemaOptions,o.options,{path:n,datatype:o.datatype,value:o.value});return typeof s.onValidate=="string"&&(s.onValidate=g(le(s.onValidate))),this._descriptors[i]=s,this.shadow&&this.shadow.update(a=>{C(a,n,o.value);},{validate:"pass"}),o}build(){this.store||this._descriptors&&(this.store=this.shadow.shadow(this._descriptors));}get(e){if(this.store)return f(this.store.state,[this._getKey(e)])}has(e){return this.store?this._getKey(e)in this.store.state:false}watch(){return this.store.watch(...arguemnts)}getValidator(e){if(!this.store)return;let t=this.get(e);if(t)return {validate:t.onValidate,onFail:t.onFail,message:t.invalidTips}}addValidator(e,t){if(!this.store)return;let o=this._getKey(e);this.store.update(n=>{Object.assign(n[o],{onValidate:g(t.validate),onFail:t.onFail||"throw-pass",invalidTips:t.message});});}remove(e){let t=this._getKey(e);this.store&&delete this.store.state[t];}getValues(){let e={};return Object.entries(this._descriptors||{}).forEach(([t,o])=>{let n=this._getPath(t),i=o.name??n.join(l);this.shadow.peep(s=>{e[i]=f(s,n);});}),e}find(e){let t=(Array.isArray(e)?e:e.split(",")).map(o=>Array.isArray(o)?o:o.split(this.store.options.delimiter));return Object.entries(this.fields).filter(([o])=>t.some(n=>De(n,this._getPath(o)))).map(([o,n])=>n)}};function He(r){let e=r.reactiveFields||[];e.length===0&&e.push("enable","required","visible","label","tips","icon"),Ce(r)&&re(r,({value:t,key:o,parent:n})=>{(S(t)&&(o.startsWith("on")||o.startsWith("render")||o.startsWith("to"))||!e.includes(o))&&(n[o]=g(t));});}function ke(r){let e={value:r[0],options:Object.assign({onFail:"throw-pass"},r[1])};if(!e.options.widget&&typeof e.options.toInput!="function"){let t=typeof e.value;t==="boolean"?e.options.widget="checkbox":t==="number"&&(e.options.widget="number"),Array.isArray(e.options.select)&&(e.options.widget="select");}return "onValidate"in e.options&&g(e.options.onValidate),He(e.options),e}var _e=function(){let r=ke([...arguments]),e=arguments[0],t=Array.isArray(e)?"array":typeof e,o=()=>({value:e,datatype:t,options:r.options});return o[T]=true,o},gi=_e,bi=_e;function E(r,e){return function(){let o=Object.assign({},arguments[1]);return typeof o.onValidate!="function"&&(o.onValidate=r),o.invalidTips||(o.invalidTips=e),_e(arguments[0],o)}}var Ke={number:E(r=>typeof r=="number","must be a number"),string:E(r=>typeof r=="string","must be a string"),boolean:E(r=>typeof r=="boolean","must be a boolean"),date:E(r=>r instanceof Date,"must be a date"),bigint:E(r=>typeof r=="bigint","must be a bigint"),array:E(r=>Array.isArray(r),"must be an array"),object:E(r=>typeof r=="object","must be an object")},Si=Ke;function Me(r,e,t){let o=new he(e,Object.assign({},t,{id:`${r.id}_shadow`,getRootScope:()=>r.state,getShadowStore:()=>r,debug:r.options.debug,shadow:true,onObserverBeforeCreate:n=>{let i=n.options.scope;(!i||Te(i))&&(n.options.scope="ROOT");}}));return r.watch(n=>{o.operates.emit(n.path.join(l),n);}),o}var he=class extends ${_data;computedObjects;watchObjects;_operates=new $;_options;_silenting=false;_batching=false;_batchOperates=[];_updateFlags=0;_peeping=false;_updateValidateBehavior;_updatedState;_updatedWatcher;_schemas;_delimiter=".";types={rawState:void 0,state:void 0,schemas:void 0,schemaKeys:void 0};constructor(e,t){super(),this._options=ye({id:te(),debug:false,enableComputed:true,reentry:true,resetable:false,delimiter:".",log:we,shadow:false},t),this._delimiter=this._options.delimiter,this.computedObjects=new se(this),this.watchObjects=new ue(this),this.subscribeCallbacks(),this._data=Le.call(this,e||{},{notify:this._notify.bind(this),createObserverObject:this.createObserverObject.bind(this)}),this.getSnap=this.getSnap.bind(this),this.watch=this.watch.bind(this),this.update=this.update.bind(this),this.peep=this.peep.bind(this),this.silentUpdate=this.silentUpdate.bind(this),this.batchUpdate=this.batchUpdate.bind(this),this.trace=this.trace.bind(this),this.collectDependencies=this.collectDependencies.bind(this),this.installExtends(),re(this._data,this._onFirstEachState.bind(this)),this._options.shadow||this.schemas.build(),this._options.resetable&&(this.resetable=true),this._options.debug&&typeof globalThis.__AUTOSTORE_DEVTOOLS__=="object"&&globalThis.__AUTOSTORE_DEVTOOLS__.add(this),this.emit("load",this);}get id(){return this._options.id}get state(){return this._data}get operates(){return this._operates}get options(){return this._options}get silenting(){return this._silenting}get delimiter(){return this._delimiter}get batching(){return this._batching}get peeping(){return this._peeping}get resetable(){return this._options.resetable}get schemas(){return this._schemas||(this._schemas=new de(this)),this._schemas}set resetable(e){if(e){if(this._updatedWatcher)return;this._updatedState={},this._updatedWatcher=this.watch(({path:t,oldValue:o})=>{if(t.length===0)return;let n=t.join(this._delimiter);!n.startsWith("#")&&!(n in this._updatedState)&&(this._updatedState[n]=o);},{operates:"write"});}else this._updatedWatcher&&(this._updatedWatcher.off(),this._updatedWatcher=void 0),this._updatedState={};this._options.resetable=e;}reset(e){if(this._options.resetable&&this._updatedState)try{this.batchUpdate(t=>{let o=e?`${e}${this._delimiter}`:"";Object.entries(this._updatedState).forEach(([n,i])=>{n.startsWith(o)&&C(t,n.split(this._delimiter),i);});});}finally{this.emit("reset",e);}else this.log("resetable option is not enabled","warn");}_onFirstEachState({key:e,value:t,path:o,parent:n}){typeof t=="string"&&t.startsWith("```")&&t.endsWith("```")&&this.update(i=>{let s=le(t.slice(3,t.length-3));g(s),C(i,o,s);},{silent:true});}log(e,t){this._options.debug&&this.options.log.call(this,e,t);}installExtends(){let e=globalThis.__AUTOSTORE_EXTENDS__;Array.isArray(e)&&e.forEach(t=>typeof t=="function"&&t(this));}subscribeCallbacks(){this._options.onComputedCreated&&this.on("computed:created",this._options.onComputedCreated.bind(this)),this._options.onComputedDone&&this.on("computed:done",this._options.onComputedDone.bind(this)),this._options.onComputedError&&this.on("computed:error",this._options.onComputedError.bind(this)),this._options.onComputedCancel&&this.on("computed:cancel",this._options.onComputedCancel.bind(this)),this._options.onObserverBeforeCreate&&this.on("observer:beforeCreate",this._options.onObserverBeforeCreate.bind(this));}_notify(e){this._peeping&&e.type==="get"||(this._batching&&this._batchOperates.push(e),!this._silenting&&(e.flags=this._updateFlags,this.operates.emit(e.path.join(this._delimiter),e)));}watch(){let e=typeof arguments[0]=="function"||["*","**"].includes(arguments[0])||Array.isArray(arguments[0])&&arguments[0].length===0,t=typeof arguments[0]=="function"?arguments[0]:arguments[1],o=arguments.length>=2&&typeof arguments[arguments.length-1]=="object"?arguments[arguments.length-1]:void 0,n=(i,s)=>a=>{if(Oe(a,i)&&!(typeof s=="function"&&!s(a)))try{if(this._peeping=!0,a.type==="batch"){let u=a.value.filter(p=>Oe(p,i));if(u.length>0)a.value=u;else return}t(a);}finally{this._peeping=false;}};if(e){let{operates:i,filter:s}=Object.assign({once:false,operates:"write"},o),a=n(i,s);return this.operates.onAny(a)}else {let i=arguments[0],s=Array.isArray(i)?i.map(h=>typeof h=="string"?h:h.join(this._delimiter)):[i],{once:a,operates:u,filter:p}=Object.assign({once:false,operates:"write"},o),c=a?this.operates.once.bind(this.operates):this.operates.on.bind(this.operates),d=[],m=n(u,p);return s.forEach(h=>{d.push(c.call(this,h,m));}),{off:()=>d.forEach(h=>h.off())}}}createObserverObject(e,t,o,n){if(ie(t))return this.schemas.add(e,t).value;{let i=Fe(t),s={path:e,value:t,parentPath:o,parent:n};if(i){if(i.type==="computed")return this._createComputed(i,s)?.initial;if(i.type==="watch")return this._createWatch(i,s)?.initial}else return t}}_createComputed(e,t){let o;return this.emit("observer:beforeCreate",e),e.options.async?o=new pe(this,e,t):o=new ae(this,e,t),o&&(o.silentUpdate(o.initial),o.options.objectify&&this.computedObjects.set(o.id,o),this.emit("computed:created",o),this.emit("observer:afterCreate",e)),o}_createWatch(e,t){this.emit("observer:beforeCreate",e);let o=new ce(this,e,t);return this.watchObjects.set(o.id,o),this.emit("watch:created",o),this.emit("observer:afterCreate",e),o}silentUpdate(e){this.update(e,{silent:true});}batchUpdate(e){this.update(e,{batch:true,validate:"pass"});}update(e,t){let{batch:o=false,reply:n=true,silent:i=false,peep:s=false,flags:a=0,validate:u}=Object.assign({},t);if(typeof e=="function"){this._updateFlags=a,this._updateValidateBehavior=u,i&&(this._silenting=true),o&&(this._batching=true,this._silenting=true),s&&(this._peeping=true);try{let p=e(this.state);if(o&&Ee(p))throw new Error("Batch update method can't be async function")}finally{this._silenting=false,this._batching=false,this._peeping=false,this._updateFlags=0,this._updateValidateBehavior=void 0,this.replyBatchOperates(n,o);}}else throw new Error("update method must provide a function argument")}replyBatchOperates(e,t){if(this._batchOperates.length>0){let o=[...this._batchOperates];this._batchOperates=[],e&&o.forEach(n=>{n.reply=true,this._notify(n);});try{let n=t===!0?Ae:String(t);this.operates.emit(n,{type:"batch",path:[n],value:o});}finally{this._batchOperates=[];}}}peep(){let e=typeof arguments[0]=="function"?()=>arguments[0](this.state):()=>f(this.state,Array.isArray(arguments[0])?arguments[0]:arguments[0].split(this._delimiter));this._peeping=true;try{return e()}finally{this._peeping=false;}}collectDependencies(e,t="*"){let o=[],n=this.watch(i=>{o.push(i.path);},{operates:t});try{e();}finally{n.off();}return oe(o)}trace(e,t="*"){let o;return {stop:()=>o?.off(),start:async n=>{let i=[];return new Promise(s=>{o=this.watch(a=>{i.push(a),n?.(a)&&(o.off(),s(i));},{operates:t}),Promise.resolve(e()).finally(()=>{typeof n!="function"&&(o.off(),s(i));});})}}}destroy(){this.offAll(),this._operates.offAll(),this.watchObjects.clear(),this.computedObjects.clear(),this.emit("unload",this);}getSnap(e){let{reserveAsync:t,entry:o,includeFunc:n}=Object.assign({reserveAsync:true},e);return ne(o?f(this._data,o):this._data,{reserveAsync:t,includeFunc:n})}shadow(e,t){return Me(this,e,t)}get(e,t){let{defaultValue:o,timeout:n=0,expandAsync:i=false,waitAsyncDone:s=false}=Object.assign({},t),a=Array.isArray(e)?e:e.split(this.delimiter),u=f(this.state,a,o);return b(u)?u.loading&&s?new Promise((p,c)=>{let d,m;n>0&&(d=setTimeout(()=>{m?.off(),c(new V);},n)),m=this.on("computed:done",({path:h})=>{A(a,h)&&(clearTimeout(d),m?.off(),p(i?u.value:u));});}):i?u.value:u:u}toString(){return `AutoStore<${this.id}>`}};exports.ASYNC_COMPUTED_VALUE=X;exports.AbortError=F;exports.AsyncComputedObject=pe;exports.AutoStore=he;exports.AutoStoreError=_;exports.BATCH_UPDATE_EVENT=Ae;exports.ComputedObject=B;exports.ComputedObjects=se;exports.CyleDependError=k;exports.DELETE_FLAG=Xe;exports.EMPTY=Ye;exports.EventEmitter=$;exports.InvalidComputedArgumentsError=K;exports.InvalidDependsError=q;exports.InvalidScopeError=N;exports.OBSERVER_DESCRIPTOR_BUILDER_FLAG=D;exports.OBSERVER_DESCRIPTOR_FLAG=ve;exports.ObserverObject=I;exports.ObserverScopeRef=Re;exports.PATH_DELIMITER=l;exports.SKIP_PROXY_FLAG=Y;exports.SchemaManager=de;exports.SyncComputedObject=ae;exports.TimeoutError=V;exports.VALUE_SCHEMA_BUILDER_FLAG=T;exports.ValidateError=M;exports.WatchObject=ce;exports.WatchObjects=ue;exports.c=bi;exports.calcDependPaths=j;exports.computed=J;exports.configurable=gi;exports.createAsyncComptuedValue=Rr;exports.createObserverObject=Sr;exports.createTypeSchemaBuilder=E;exports.defineExtend=mr;exports.delay=Xt;exports.forEachObject=re;exports.getAsyncVal=Dr;exports.getComputedId=$t;exports.getDepends=rr;exports.getId=te;exports.getMapVal=ee;exports.getSnap=Ue;exports.getSnapshot=ne;exports.getVal=f;exports.isAbsolutePath=fe;exports.isAsyncComputedValue=b;exports.isComputedDescriptorParameter=Ar;exports.isEq=Z;exports.isFunction=S;exports.isMap=w;exports.isObserverDescriptor=v;exports.isObserverDescriptorBuilder=R;exports.isPathEq=A;exports.isPathMatched=xe;exports.isPlainObject=Ce;exports.isPrimitive=dr;exports.isPromise=Ee;exports.isProxy=At;exports.isRaw=U;exports.isRelPath=Te;exports.isSchemaBuilder=ie;exports.isValueSchema=Pr;exports.joinValuePath=W;exports.markRaw=g;exports.noRepeat=oe;exports.normalizeDeps=me;exports.pathIsExists=sr;exports.pathStartsWith=De;exports.s=Si;exports.schema=_e;exports.schemas=Ke;exports.setVal=C;exports.updateObjectVal=Ve;exports.watch=Be;return exports;})({});//# sourceMappingURL=index.global.js.map
//# sourceMappingURL=index.global.js.map